<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>è‡ªå»º scoop repo çš„ä¸€äº›é—®é¢˜</title>
    <link href="/2023/04/27/%E8%87%AA%E5%BB%BA-scoop-repo-%E7%9A%84%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98/"/>
    <url>/2023/04/27/%E8%87%AA%E5%BB%BA-scoop-repo-%E7%9A%84%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<p>è‡ªå»º scoop repo çš„è¯ç›´æ¥ä»<br><a href="https://github.com/ScoopInstaller/BucketTemplate">Template Bucket for Scoop Installer</a><br>ç”Ÿæˆå°±å¥½ã€‚</p><p>ç„¶åéœ€è¦åœ¨ä»“åº“ä¸­æŠŠ Github Action<br>çš„æƒé™æ‰“å¼€ï¼š<code>Settings &gt; Actions &gt; General &gt; Workflow permissions</code>ï¼Œå¦åˆ™ ci<br>ä¼šå‡ºé”™ã€‚</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>MSVC ä¸ C++ 20 æ¨¡å—åˆæ¢</title>
    <link href="/2023/01/16/MSVC-%E4%B8%8E-C-20-%E6%A8%A1%E5%9D%97%E5%88%9D%E6%8E%A2/"/>
    <url>/2023/01/16/MSVC-%E4%B8%8E-C-20-%E6%A8%A1%E5%9D%97%E5%88%9D%E6%8E%A2/</url>
    
    <content type="html"><![CDATA[<h1 id="é—®é¢˜çš„èµ·æº"><a href="#é—®é¢˜çš„èµ·æº" class="headerlink" title="é—®é¢˜çš„èµ·æº"></a>é—®é¢˜çš„èµ·æº</h1><p>ä»Šå¤©åˆšå¥½çœ‹åˆ° C++ 20 çš„æ–°ç‰¹æ€§ï¼Œæƒ³èµ·æ¥æ­£å¥½æŠŠæ¨¡å—å­¦ä¸€å­¦ã€‚</p><div class="note note-info">            <p>ä»¥ä¸‹ä»£ç å‡é‡‡ç”¨ MSBuild è¿›è¡Œæ„å»ºï¼Œè€Œé CMake</p>          </div><p>äºæ˜¯é¦–å…ˆæŠŠ <code>#include</code> æ”¹ä¸º <code>import</code>:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">import</span> &lt;iostream&gt;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Hello World!\n&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç„¶åæœç„¶æŠ¥é”™äº†ï¼š</p><figure class="highlight moonscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs moonscript">æ‰¾ä¸åˆ°â€œ<span class="hljs-name">C</span>:\Program Files\Microsoft Visual Studio\<span class="hljs-number">2022</span>\Community\VC\Tools\MSVC\<span class="hljs-number">14.34</span><span class="hljs-number">.31933</span>\include\iostreamâ€çš„æ ‡å¤´å•ä½<br></code></pre></td></tr></table></figure><p>è™½è¯´ç°åœ¨æ¨¡å—ç¡®å®éƒ½æ²¡å®ç°å®Œæ•´ï¼Œä½†æ˜¯è¿™ä¹ˆç®€å•çš„ä¾‹å­éƒ½èƒ½æŠ¥é”™å®åœ¨æ˜¯æœ‰ç‚¹ç¦»è°±äº†ï¼ˆxï¼Œåº”è¯¥æ˜¯å“ªé‡Œæ²¡æœ‰å¼„å¯¹ã€‚ç„¶å Google ä»¥ä¸€å¤§åœˆç»ˆäºåœ¨ <a href="https://learn.microsoft.com/en-us/cpp/build/walkthrough-header-units?view=msvc-170">walkthrough-header-units</a> æ‰¾åˆ°ç­”æ¡ˆäº†ã€‚</p><h1 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h1><ol><li><p>é¦–å…ˆæ£€æŸ¥ä½¿ç”¨æ—¶ C++20 æˆ–ä¹‹åçš„è¯­è¨€æ ‡å‡†ã€‚<br>åœ¨ <code>é¡¹ç›® &gt; å±æ€§ &gt; C/C++ &gt; è¯­è¨€</code> é‡Œé¢è®¾ç½®ã€‚å¯ç”¨æ ‡å‡†åº“æ¨¡å—çš„é…ç½®ä¹Ÿåœ¨è¿™é‡Œã€‚</p></li><li><p>æ‰«ææºä»¥æŸ¥æ‰¾æ¨¡å—ä¾èµ–å…³ç³»<br>å°† <code>é¡¹ç›® &gt; å±æ€§ &gt; C/C++ &gt; è¯­è¨€ &gt; æ‰«ææºä»¥æŸ¥æ‰¾æ¨¡å—ä¾èµ–å…³ç³»</code> è®¾ç½®ä¸ºæ˜¯ã€‚</p></li></ol><p>é‡æ–°ç¼–è¯‘ï¼Œå‘ç°å·²ç»å¯ä»¥ç¼–è¯‘æˆåŠŸäº†ã€‚</p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><h2 id="header-unit"><a href="#header-unit" class="headerlink" title="header unit"></a>header unit</h2><p>header unit å°±æ˜¯å¤´æ–‡ä»¶çš„äºŒè¿›åˆ¶è¡¨ç¤ºï¼Œä½¿ç”¨ <code>.ifc</code> åç¼€ã€‚çœ‹æ¥ <code>import &lt;iostream&gt;</code> è¿™æ ·çš„è¯­æ³•æ‰¾çš„æ˜¯ header unitï¼Œè€Œä»¥ <code>.cpp</code> ä¸ºåç¼€çš„æ–‡ä»¶åˆä¸ä¼šè‡ªåŠ¨æŸ¥æ‰¾ä¾èµ–å…³ç³»ï¼Œæ‰€ä»¥æ‰¾ä¸åˆ°äº†ï¼ˆ</p><p>è€Œæ ¹æ®ä¸Šé¢çš„æ–‡æ¡£ï¼Œæ¨¡å—æ¥å£æ–‡ä»¶ï¼ˆä»¥ <code>.ixx</code> ä¸ºåç¼€çš„æ–‡ä»¶ï¼‰ä¼šè‡ªåŠ¨æŸ¥æ‰¾ï¼Œæ‰€ä»¥å¦‚æœå®šä¹‰äº†ä¸€ä¸ªæ¨¡å—ï¼Œç„¶ååœ¨ cpp æ–‡ä»¶ä¸­å¯¼å…¥æ¨¡å—ï¼Œå°±å¯ä»¥ä½¿ç”¨äº†ï¼ˆï¼Œ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// HelloWorld.ixx</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">module</span> HelloWorld;<br><br><span class="hljs-keyword">import</span> &lt;iostream&gt;;<br></code></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// ConsoleApplication.cpp</span><br><span class="hljs-keyword">import</span> HelloWorld;<br><span class="hljs-keyword">import</span> &lt;iostream&gt;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Hello World!\n&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç å¯ä»¥æˆåŠŸç¼–è¯‘ã€‚</p><h2 id="global-module"><a href="#global-module" class="headerlink" title="global module"></a>global module</h2><blockquote><p>æˆ‘ä»¬å¸Œæœ› <code>#include &lt;iostream&gt;</code> é‡Œé¢çš„ä¸œè¥¿çš„ linkage&#x2F;name mangling éƒ½æ˜¯å’Œé module éƒ¨åˆ†ä¸€æ ·çš„, åƒä¸‡ä¸èƒ½ç»è¿‡ module çš„ç‰¹æ®Šå¤„ç†.</p><p>æ‰€ä»¥æˆ‘ä»¬æå‡ºäº†ä¸ª global module fragment çš„è¯­æ³•. ç”¨ module; ä»£è¡¨ global module. è¿™æ ·åˆ° module A; ä¹‹å‰çš„ä¸œè¥¿å°±å’Œä»¥å‰ä¸€æ ·äº†, éå¸¸å¥½ç”¨.</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">module</span>;<br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">module</span> A;<br></code></pre></td></tr></table></figure><h2 id="import-å’Œ-include-æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ"><a href="#import-å’Œ-include-æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ" class="headerlink" title="import å’Œ #include æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ"></a><code>import</code> å’Œ <code>#include</code> æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</h2><ul><li><code>import</code> çš„å®ä½“ä¸ä¼šéšå¼ export</li><li>åœ¨ç¼–è¯‘å•å…ƒä¸­å®šä¹‰çš„å®ä¸ä¼šå½±å“åˆ°å¤´æ–‡ä»¶ï¼ˆæ¯”å¦‚åœ¨å¤´æ–‡ä»¶ä¸­åŒ…å«é…ç½®ï¼Œè¿™æ˜¯éœ€è¦ä½¿ç”¨ global moduleï¼‰</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>Cpp</tag>
      
      <tag>MSVC</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>C++&#39;s most vexing parse</title>
    <link href="/2023/01/01/Cpp-most-vexing-parse/"/>
    <url>/2023/01/01/Cpp-most-vexing-parse/</url>
    
    <content type="html"><![CDATA[<h1 id="å«ä¹‰"><a href="#å«ä¹‰" class="headerlink" title="å«ä¹‰"></a>å«ä¹‰</h1><p>ç”± <em>Scott Meyers</em> å† <code>Effective STL</code> ä¸­æå‡ºï¼Œå«ä¹‰æ˜¯é’ˆå¯¹äºŒä¹‰æ€§çš„ C++ è¯­å¥ï¼Œåªè¦å®ƒæœ‰å¯èƒ½è¢«è§£é‡Šæˆå‡½æ•°å£°æ˜ï¼Œç¼–è¯‘å™¨å°±è‚¯å®šå°†å…¶è§£é‡Šä¸ºå‡½æ•°å£°æ˜ã€‚</p><h1 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Task</span> &#123;<br><span class="hljs-keyword">public</span>:<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<br>std::cout &lt;&lt; <span class="hljs-string">&quot;Hello World&quot;</span> &lt;&lt; std::endl;<br>&#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br><span class="hljs-function">std::thread <span class="hljs-title">thread</span><span class="hljs-params">(Task())</span></span>; <span class="hljs-comment">// è¿™é‡Œæ˜¯å‡½æ•°å£°æ˜ï¼Œè¡¨æ˜ä¸€ä¸ªåä¸º thread çš„å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ª std::thread å¯¹è±¡ï¼Œæ¥å—ä¸€ä¸ªæ— å‚å¹¶è¿”å› Task å¯¹è±¡çš„å‡½æ•°æŒ‡é’ˆ</span><br>&#125;<br></code></pre></td></tr></table></figure><p>è¦ä¿®æ”¹çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨åˆ—è¡¨åˆå§‹åŒ–ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::thread thread &#123; <span class="hljs-built_in">Task</span>() &#125;<br></code></pre></td></tr></table></figure><p>æˆ–è€…æ·»åŠ å¤šä½™çš„æ‹¬å·</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">std::thread <span class="hljs-title">thread</span><span class="hljs-params">((Task()))</span></span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Cpp</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Helix Editor</title>
    <link href="/2022/10/20/Helix-Editor/"/>
    <url>/2022/10/20/Helix-Editor/</url>
    
    <content type="html"><![CDATA[<h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><blockquote><p><a href="https://www.zhihu.com/question/462847687/answer/2324540123">å¦‚ä½•è¯„ä»·æ–‡æœ¬ç¼–è¾‘å™¨Helix Editor?</a></p></blockquote><a class="btn" href="https://helix-editor.com/"  target="_blank">å®˜ç½‘åœ°å€</a><a class="btn" href="https://docs.helix-editor.com/"  target="_blank">æ–‡æ¡£åœ°å€</a><h2 id="ä¸»é¢˜åˆ—è¡¨"><a href="#ä¸»é¢˜åˆ—è¡¨" class="headerlink" title="ä¸»é¢˜åˆ—è¡¨"></a>ä¸»é¢˜åˆ—è¡¨</h2><p>ä½äº <a class="btn" href="https://github.com/helix-editor/helix/tree/master/runtime/themes"  target="_blank">runtime/themes</a> ä¸­</p><p>ä¹Ÿå¯ä»¥ä½¿ç”¨<code>:theme</code>æŒ‡ä»¤ç„¶åç”¨ <code>Tab</code>åˆ‡æ¢</p><h2 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h2><h3 id="Omnisharp"><a href="#Omnisharp" class="headerlink" title="Omnisharp"></a>Omnisharp</h3><p>Omnisharpæä¾›çš„äºŒè¿›åˆ¶æ–‡ä»¶æœ‰ä¸¤ä¸ªï¼š<code>omnisharp-win-x64.zip</code>ä»¥åŠ<code>omnisharp-win-x64-net6.0.zip</code></p><p>ç¬¬ä¸€ä¸ªåœ¨æœ¬æœºç¯å¢ƒä¸­æ²¡æ³•ä½¿ç”¨ï¼Œå¯ä»¥åœ¨æ—¥å¿—é‡Œé¢çœ‹åˆ° LSP å¯åŠ¨äº†ï¼Œä½†å°±æ˜¯ä¸è¿”å›æ•°æ®ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼šæ‰¾ä¸åˆ°æ ‡å‡†åº“ã€ä¸è®¤è¯† C#10 çš„æ–° featureï¼Œåªæœ‰é«˜äº®ï¼Œè¡¥å…¨ä»€ä¹ˆçš„å…¨éƒ½æ²¡æœ‰ï¼Œè¿·æƒ‘ã€‚</p><p>æœ¬æœºç¯å¢ƒï¼š</p><ul><li>dotnet ç‰ˆæœ¬ä¸º 6.0.402ï¼Œ</li><li>omnisharpçš„ç‰ˆæœ¬ä¸º<code>omnisharp-win-x64.zip</code>ï¼Œ</li><li>dotnet å’Œ omnisharp å‡åœ¨ PATH ä¸­ï¼Œ</li></ul><p>æ¢ä¸º<code>omnisharp-win-x64-net6.0.zip</code>åï¼Œèƒ½æ­£å¸¸è¡¥å…¨äº†ã€‚ä½†æ˜¯è¿˜æ˜¯</p><ul><li>å¦‚æœ LSP è¿˜æ²¡æœ‰åˆå§‹åŒ–å¥½å°±è¾“å…¥çš„è¯ï¼ˆå¤§æ¦‚ï¼Œæå¤§å¯èƒ½ diagnose ä¼šå‡ºé—®é¢˜ï¼Œä¼šå‡ºç°å¯¹ä¸ä¸Šå·çš„è¯Šæ–­ä¿¡æ¯ï¼Œä¿å­˜åˆ·æ–°ä¹Ÿæ²¡ç”¨</li><li>è·³è½¬è¿˜æ˜¯æ²¡æ³•ç”¨ï¼Œçœ‹äº†ä¸€ä¸‹ LSP è¿”å›çš„æ˜¯ UNC è·¯å¾„(file åè®®)ï¼Œhelix-editor ä¸èƒ½è·³è½¬ï¼Œä½†æ˜¯ vscode é‡Œé¢å°±æ˜¯æ­£å¸¸çš„ã€‚ï¼ˆè™½ç„¶ C# è·³è¿‡å»ä¹Ÿå°±ä¸€ä¸ªæ¥å£ï¼Œå®ç°éƒ½æ²¡æœ‰ï¼Œæ²¡å•¥ç”¨<br>ç„¶åå¦‚æœé¼ æ ‡ç¢°åˆ°è¿”å›çš„UNCè·¯å¾„çš„è¯è¿˜å¯èƒ½æŠŠ Windows Terminal å¹²åˆ°æ— å“åº”ï¼ˆè¿™æ˜¯ä»€ä¹ˆåŸç†<ul><li>ç›¸å…³ Github Issueï¼š<a href="https://github.com/helix-editor/helix/issues/2430">#2430</a></li><li><blockquote><p>It should still fail to jump to the symbol, but at least not crash anymore. Formatting should be fixed. <a class="btn" href="https://github.com/helix-editor/helix/issues/2430#issuecomment-1144441980"  target="_blank">Issue Commnet</a></p></blockquote></li><li>æˆ‘ä¹Ÿå¾ˆå¥‡æ€ªè¿™ä¸ªè¯¡å¼‚çš„ URI æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼ˆxï¼Œç­‰å®˜æ–¹ä¿®å¤å¥½äº†</li></ul></li></ul><p>Rustçš„<code>canonicalize()</code>æ–¹æ³•è¿”å›çš„ä¹Ÿæ˜¯ UNC è·¯å¾„ï¼Œä»Šå¤©ä¹Ÿè¢«å‘äº†ä¸€æŠŠï¼ˆ</p>]]></content>
    
    
    <categories>
      
      <category>å·¥å…·</category>
      
    </categories>
    
    
    <tags>
      
      <tag>editor</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åœ¨ wsl ä¸­é…ç½® zsh</title>
    <link href="/2022/10/08/%E5%9C%A8-wsl-%E4%B8%AD%E9%85%8D%E7%BD%AE-zsh/"/>
    <url>/2022/10/08/%E5%9C%A8-wsl-%E4%B8%AD%E9%85%8D%E7%BD%AE-zsh/</url>
    
    <content type="html"><![CDATA[<h2 id="å¯èƒ½çš„é—®é¢˜"><a href="#å¯èƒ½çš„é—®é¢˜" class="headerlink" title="å¯èƒ½çš„é—®é¢˜"></a>å¯èƒ½çš„é—®é¢˜</h2><h3 id="zsh-syntax-highlighting-æ’ä»¶çš„å¡é¡¿é—®é¢˜"><a href="#zsh-syntax-highlighting-æ’ä»¶çš„å¡é¡¿é—®é¢˜" class="headerlink" title="zsh-syntax-highlighting æ’ä»¶çš„å¡é¡¿é—®é¢˜"></a><code>zsh-syntax-highlighting</code> æ’ä»¶çš„å¡é¡¿é—®é¢˜</h3><p>åŸå› åœ¨äºè¯¥æ’ä»¶ä¼šæŠŠ Windows çš„ PATH ä¸€å¹¶è¯»å–ï¼Œå¯¼è‡´è¾“å…¥æ—¶ä¼šæœ‰æ˜æ˜¾çš„å»¶è¿Ÿã€‚å°† Windows ä¸Šçš„è·¯å¾„å»æ‰å°±å¥½ï¼ˆä½†æ˜¯å°±ä¸èƒ½ç›´æ¥è°ƒç”¨ Windows ä¸Šçš„å¯æ‰§è¡Œæ–‡ä»¶äº†ï¼Œè™½ç„¶ä¸€èˆ¬ä¹Ÿç”¨ä¸åˆ°</p><p>åœ¨ <code>/etc/wsl.conf</code>ä¸­åŠ å…¥ä»¥ä¸‹å†…å®¹</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-section">[interop]</span><br><span class="hljs-attr">appendWindowsPath</span> = <span class="hljs-literal">false</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>WSL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åœ¨ wsl ä¸­å®‰è£… fedora</title>
    <link href="/2022/10/08/%E5%9C%A8-wsl-%E4%B8%AD%E5%AE%89%E8%A3%85-fedora/"/>
    <url>/2022/10/08/%E5%9C%A8-wsl-%E4%B8%AD%E5%AE%89%E8%A3%85-fedora/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>Debian è™½ç„¶ç¨³å®šï¼Œä½†é‡Œé¢çš„è½¯ä»¶åŒ…ä¹Ÿå¤ªé™ˆæ—§äº†(</p><p>æƒ³ä¸€æƒ³ä½œä¸ºæ¡Œé¢ä¹Ÿæ²¡å¿…è¦ç”¨å¾—é‚£ä¹ˆç¨³å®šï¼Ÿè¶è¿™ä¸ªæœºä¼šæ‰“ç®—æ¢ä¸€ä¸ªæ–°çš„å‘è¡Œç‰ˆ van van</p><p>æœ€åé€‰æ‹©äº† fedoraï¼ˆå¹¶ä¸å¤ªæƒ³æŠ˜è…¾ Arch</p><h2 id="å®‰è£…æ­¥éª¤"><a href="#å®‰è£…æ­¥éª¤" class="headerlink" title="å®‰è£…æ­¥éª¤"></a>å®‰è£…æ­¥éª¤</h2><h3 id="è·å–-fedora-é•œåƒæ–‡ä»¶-rootfs-image"><a href="#è·å–-fedora-é•œåƒæ–‡ä»¶-rootfs-image" class="headerlink" title="è·å– fedora é•œåƒæ–‡ä»¶(rootfs image)"></a>è·å– fedora é•œåƒæ–‡ä»¶(rootfs image)</h3><p>åœ¨</p><a class="btn" href="https://koji.fedoraproject.org/koji/packageinfo?packageID=26387"  target="_blank">Fedora-Container-Base</a><p>æˆ–</p><a class="btn" href="https://github.com/fedora-cloud/docker-brew-fedora"  target="_blank">fedora-cloud/docker-brew-fedora</a><p>ä¸­ä¸‹è½½ç›¸åº”çš„é•œåƒï¼Œè§£å‹åå¾—åˆ°<code>xxx.tar</code>æ–‡ä»¶ï¼ˆè®¾è§£å‹ååœ°å€ä¸º<code>$FEDORA_IMAGE_PATH</code>ï¼‰</p><div class="note note-info">            <p>å¦‚ä½•è·å–å…¶ä»–å‘è¡Œç‰ˆçš„<code>rootfs</code>? </p><p><a class="btn" href="https://learn.microsoft.com/en-us/windows/wsl/use-custom-distro"  target="_blank">Import any Linux distribution to use with WSL</a></p>          </div><h3 id="åœ¨-wsl-ä¸­å¯¼å…¥"><a href="#åœ¨-wsl-ä¸­å¯¼å…¥" class="headerlink" title="åœ¨ wsl ä¸­å¯¼å…¥"></a>åœ¨ wsl ä¸­å¯¼å…¥</h3><p>åˆ›å»ºå­˜å‚¨ç›®å½•<code>$WSL_STORE_PATH</code>ï¼Œä¾‹å¦‚</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-variable">$WSL_SOTRE_PATH</span> = <span class="hljs-string">&#x27;~/wsl/fedora&#x27;</span><br></code></pre></td></tr></table></figure><p>ç„¶ååœ¨wslä¸­å¯¼å…¥ï¼Œè¿™é‡Œå‘½åä¸º<code>fedora</code></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs powershell">wsl <span class="hljs-literal">--import</span> fedora <span class="hljs-variable">$WSL_STORE_PATH</span> <span class="hljs-variable">$FEDORA_IMAGE_PATH</span><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨<code>wsl -d fedora</code>å¯åŠ¨</p><h3 id="å®‰è£…è½¯ä»¶åŒ…ä¸é…ç½®"><a href="#å®‰è£…è½¯ä»¶åŒ…ä¸é…ç½®" class="headerlink" title="å®‰è£…è½¯ä»¶åŒ…ä¸é…ç½®"></a>å®‰è£…è½¯ä»¶åŒ…ä¸é…ç½®</h3><h4 id="æ›´æ–°ç³»ç»Ÿ"><a href="#æ›´æ–°ç³»ç»Ÿ" class="headerlink" title="æ›´æ–°ç³»ç»Ÿ"></a>æ›´æ–°ç³»ç»Ÿ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">dnf update<br></code></pre></td></tr></table></figure><h4 id="åˆ›å»ºç”¨æˆ·"><a href="#åˆ›å»ºç”¨æˆ·" class="headerlink" title="åˆ›å»ºç”¨æˆ·"></a>åˆ›å»ºç”¨æˆ·</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">dnf install -y passwd cracklib-dicts<br>useradd -G wheel <span class="hljs-variable">$USER_NAME</span><br>passwd <span class="hljs-variable">$USER_NAME</span><br></code></pre></td></tr></table></figure><p>è®¾ç½® wsl çš„é»˜è®¤ç™»é™†ç”¨æˆ·</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">printf</span> <span class="hljs-string">&quot;[user]\ndefault=<span class="hljs-variable">$USER_NAME</span>&quot;</span> | <span class="hljs-built_in">tee</span> -a /etc/wsl.conf<br></code></pre></td></tr></table></figure><div class="note note-info">            <p>å¯ä»¥ä½¿ç”¨<code>wsl -d fedora -u $USER_NAME</code>æŒ‡å®šç™»å½•çš„ç”¨æˆ·</p>          </div><h4 id="å…¶ä»–è½¯ä»¶åŒ…"><a href="#å…¶ä»–è½¯ä»¶åŒ…" class="headerlink" title="å…¶ä»–è½¯ä»¶åŒ…"></a>å…¶ä»–è½¯ä»¶åŒ…</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo dnf install -y procps-ng iputils iproute ncurses findutils git<br></code></pre></td></tr></table></figure><table><thead><tr><th>è½¯ä»¶åŒ…</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>procps-ng</td><td>æä¾›ä¸è¿›ç¨‹ç›¸å…³çš„å‘½ä»¤ï¼Œä¾‹å¦‚<code>top</code></td></tr><tr><td>iputils</td><td>æä¾›<code>ping</code>å‘½ä»¤</td></tr><tr><td>iproute</td><td>æä¾›<code>ip</code>ç­‰å‘½ä»¤</td></tr><tr><td>ncruses</td><td>TUI</td></tr><tr><td>findutils</td><td>æŸ¥æ‰¾</td></tr><tr><td>git</td><td>git</td></tr></tbody></table><div class="note note-info">            <p>é…ç½®ä¸éœ€è¦ root æƒé™çš„ ping</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo sysctl -w net.ipv4.ping_group_range=<span class="hljs-string">&#x27;0 10&#x27;</span><br></code></pre></td></tr></table></figure><p>å…·ä½“ä½œç”¨å¯ä»¥å‚è€ƒ<a href="https://blog.lilydjwg.me/2013/10/29/non-privileged-icmp-ping.41390.html">ä¸éœ€è¦ root æƒé™çš„ ICMP ping</a></p><p><span class="label label-warning">é…ç½®å¯èƒ½ä¼šå¤±æ•ˆï¼<sup><a href="#sysctl-%E5%A4%B1%E6%95%88">âš“</a></sup></span></p>          </div><div class="note note-info">            <p><code>initscripts</code>è¿™ä¸ª package åŒ…æ‹¬äº† fedora çš„ä¸€äº›å¯åŠ¨è„šæœ¬ï¼Œä¾‹å¦‚ç½‘ç»œç­‰ï¼Œä½†ç”±äºå…¶åŸºäº<code>legacy System V</code>è€Œé<code>systemd</code><sup><a href="#Systemd">âš“</a></sup>ï¼Œå› æ­¤è¿™é‡Œæ²¡æœ‰å®‰è£…</p>          </div><h4 id="é…ç½®-man-å¯é€‰"><a href="#é…ç½®-man-å¯é€‰" class="headerlink" title="é…ç½® man(å¯é€‰)"></a>é…ç½® <code>man</code>(å¯é€‰)</h4><p>ç¡®ä¿<code>nodocs</code>æ²¡æœ‰å¼€å¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep -v nodocs /etc/dnf/dnf.conf | sudo <span class="hljs-built_in">tee</span> /etc/dnf/dnf.conf<br></code></pre></td></tr></table></figure><p>å®‰è£… <code>man</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo dnf install -y man man-pages<br></code></pre></td></tr></table></figure><div class="note note-info">            <p>ä¹‹å‰å·²ç»å®‰è£…çš„è½¯ä»¶éœ€è¦é‡æ–°å®‰è£…æ‰èƒ½ä½¿ç”¨<code>man</code>æŸ¥çœ‹æ–‡æ¡£ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-keyword">for</span> pkg <span class="hljs-keyword">in</span> $(dnf repoquery --installed --qf <span class="hljs-string">&quot;%&#123;name&#125;&quot;</span>); <span class="hljs-keyword">do</span> sudo dnf reinstall -qy <span class="hljs-variable">$pkg</span>; <span class="hljs-keyword">done</span><br></code></pre></td></tr></table></figure><p><strong>å¯èƒ½ä¼šéå¸¸è´¹æ—¶ï¼</strong></p>          </div><h2 id="å¯èƒ½å‡ºç°çš„é—®é¢˜"><a href="#å¯èƒ½å‡ºç°çš„é—®é¢˜" class="headerlink" title="å¯èƒ½å‡ºç°çš„é—®é¢˜"></a>å¯èƒ½å‡ºç°çš„é—®é¢˜</h2><h3 id="æŒ‚è½½é”™è¯¯"><a href="#æŒ‚è½½é”™è¯¯" class="headerlink" title="æŒ‚è½½é”™è¯¯"></a>æŒ‚è½½é”™è¯¯</h3><blockquote><p>å¦‚æœä½ åœ¨ç¬¬ä¸€æ¬¡å¯åŠ¨ fedora æ—¶å¾—åˆ°äº†ä»¥ä¸‹é”™è¯¯ï¼š</p><p><code>An error occurred mounting one of your file systems. Please run &#39;dmesg&#39; for more details.</code></p><p>è¿™æ˜¯ç”±äºç³»ç»Ÿç¼ºå°‘ mount æŒ‡ä»¤é€ æˆçš„ï¼Œå¦‚æœä½ ä¸éœ€è¦ mount æŒ‡ä»¤ä¹Ÿä¸åœ¨æ„é”™è¯¯ï¼Œå®Œå…¨å¯ä»¥å¿½ç•¥è¿™ä¸ªé”™è¯¯ï¼ˆè™½ç„¶è¿˜æ˜¯å»ºè®®ä¿®ä¸€ä¸‹ï¼‰ã€‚</p><p>å®‰è£… util-linux è¿™ä¸ªåŒ…å³å¯ã€‚ï¼ˆå¦‚æœä½ æ˜¯ä¸€ä¸ªæç®€ä¸»ä¹‰è€…ï¼Œå®‰è£… util-linux-core è¿™ä¸ªåŒ…ï¼‰</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo dnf install -y util-linux-core<br></code></pre></td></tr></table></figure><h3 id="å®¹å™¨"><a href="#å®¹å™¨" class="headerlink" title="å®¹å™¨"></a>å®¹å™¨</h3><blockquote><p>å¦‚æœä½ éœ€è¦è¿è¡Œå®¹å™¨ï¼Œé‡æ–°å®‰è£… shadow-utils ç¡®ä¿ä¿®å¤ä¸€äº› rootfs å¸¦æ¥çš„é”™è¯¯ï¼š</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo dnf reinstall -y shadow-utils<br></code></pre></td></tr></table></figure><h3 id="locale"><a href="#locale" class="headerlink" title="locale"></a>locale</h3><blockquote><p>To be able to setup the locale within fedora you need systemd. To get around this you can use the following (substitute en, en_US with your locale strings):</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">dnf -y install glibc-common glibc-locale-source glibc-langpack-en<br>localedef --force -f UTF-8 -i en_US en_US.UTF-8<br></code></pre></td></tr></table></figure><p>Additionally, you may want to install your locale resources, sucha as:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">dnf -y install langpacks-core-en_US langpacks-en_US man-pages-en_US<br></code></pre></td></tr></table></figure><p>And donÂ´t forget to check and change if necessary &#x2F;etc&#x2F;locale.conf and &#x2F;etc&#x2F;locales.conf</p></blockquote><h3 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h3><p>é€šå¸¸æ¥è®²ï¼Œwsl ä¼šè‡ªåŠ¨è®¾ç½®dnsï¼Œè‡ªåŠ¨é…ç½®<code>/etc/resolv.conf</code></p><p>å¦‚æœ DNS ä¸èƒ½å·¥ä½œçš„è¯ï¼Œå°±è¦è‡ªå·±è¿›è¡Œé…ç½®</p><h4 id="ç¦ç”¨-wsl-è‡ªåŠ¨ç”Ÿæˆresolv-conf"><a href="#ç¦ç”¨-wsl-è‡ªåŠ¨ç”Ÿæˆresolv-conf" class="headerlink" title="ç¦ç”¨ wsl è‡ªåŠ¨ç”Ÿæˆresolv.conf"></a>ç¦ç”¨ wsl è‡ªåŠ¨ç”Ÿæˆ<code>resolv.conf</code></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> -e <span class="hljs-string">&quot;[network]\ngenerateResolvConf = false&quot;</span> &gt; /etc/wsl.conf<br></code></pre></td></tr></table></figure><h4 id="æ·»åŠ -DNS-é…ç½®"><a href="#æ·»åŠ -DNS-é…ç½®" class="headerlink" title="æ·»åŠ  DNS é…ç½®"></a>æ·»åŠ  DNS é…ç½®</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">unlink</span> /etc/resolv.conf<br><span class="hljs-built_in">echo</span> nameserver 1.1.1.1 &gt; /etc/resolv.conf<br></code></pre></td></tr></table></figure><h4 id="å¯èƒ½å‡ºç°é—®é¢˜çš„åŸå› "><a href="#å¯èƒ½å‡ºç°é—®é¢˜çš„åŸå› " class="headerlink" title="å¯èƒ½å‡ºç°é—®é¢˜çš„åŸå› "></a>å¯èƒ½å‡ºç°é—®é¢˜çš„åŸå› </h4><blockquote><p>Apparently, Fedora 33 uses systemd-resolvd, and when we upgrade packages with dnf upgrade something was overwriting &#x2F;etc&#x2F;resolv.conf with a link to &#x2F;run&#x2F;systemd&#x2F;resolve&#x2F;stub-resolv.conf which didnâ€™t actually exist.</p></blockquote><h3 id="sysctl-å¤±æ•ˆ"><a href="#sysctl-å¤±æ•ˆ" class="headerlink" title="sysctl å¤±æ•ˆ"></a>sysctl å¤±æ•ˆ</h3><blockquote><p>sysctl wonâ€™t persist after WSL reboot. You can set kernel parameters using C:\Users\username.config or &#x2F;etc&#x2F;wsl.conf (Windows 11 only). <a class="btn" href="https://github.com/microsoft/WSL/issues/4232#issuecomment-1233345818"  target="_blank">Issue Comment</a></p><p>Seems like you would need to use absolute path to sysctl if you are editing wsl.conf tho because sysctl is not loaded to $PATH yet.  <a class="btn" href="https://github.com/microsoft/WSL/issues/4232#issuecomment-1250009979"  target="_blank">Issue Comment</a></p></blockquote><h2 id="å¯¼å‡º"><a href="#å¯¼å‡º" class="headerlink" title="å¯¼å‡º"></a>å¯¼å‡º</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># æ¸…é™¤ç¼“å­˜æ–‡ä»¶</span><br>sudo dnf clean all<br></code></pre></td></tr></table></figure><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-comment"># å¯¼å‡º</span><br>wsl <span class="hljs-literal">--export</span> fedora <span class="hljs-variable">$EXPORT_PATH</span><br></code></pre></td></tr></table></figure><h2 id="æ›´æ–°ç³»ç»Ÿ-1"><a href="#æ›´æ–°ç³»ç»Ÿ-1" class="headerlink" title="æ›´æ–°ç³»ç»Ÿ "></a>æ›´æ–°ç³»ç»Ÿ <a class="btn" href="https://fedoraproject.org/wiki/Upgrading_from_pre-release_to_final#Performing_the_upgrade"  target="_blank">ğŸ”—</a></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo dnf upgrade<br></code></pre></td></tr></table></figure><h2 id="Systemd"><a href="#Systemd" class="headerlink" title="Systemd"></a>Systemd</h2><!-- TODO --><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://dev.to/bowmanjd/install-fedora-on-windows-subsystem-for-linux-wsl-4b26">Install Fedora 36 or earlier on Windows Subsystem for Linux (WSL) </a><br><a href="https://aimerneige.com/zh/post/install-fedora35-on-wsl/">åœ¨ wsl ä¸‹å®‰è£… fedora 35</a><br><a href="https://zhuanlan.zhihu.com/p/303158815">é€šè¿‡å¾®è½¯çš„ WSL2 ä½¿ç”¨ Fedora 33 | Linux ä¸­å›½</a></p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>WSL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Git for Windows</title>
    <link href="/2022/10/07/Git-for-Windows/"/>
    <url>/2022/10/07/Git-for-Windows/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ€è¿‘åˆåˆåˆåœ¨Windowsä¸Šé…ç½®Gitï¼Œåœ¨è¿™é‡Œè®°å½•ä¸€äº›Tips</p><h2 id="SigningKey"><a href="#SigningKey" class="headerlink" title="SigningKey"></a>SigningKey</h2><h3 id="é…ç½®æ–‡æ¡£"><a href="#é…ç½®æ–‡æ¡£" class="headerlink" title="é…ç½®æ–‡æ¡£"></a><a href="https://docs.github.com/en/authentication/managing-commit-signature-verification/about-commit-signature-verification">é…ç½®æ–‡æ¡£</a></h3><p>ä¸€èˆ¬æ¥è®²ï¼Œåœ¨Githubä¸Šé…ç½®sshå†é…åˆ<code>ssh config</code>é€šå¸¸æƒ…å†µä¸‹å·²ç»èƒ½ç”¨äº†ï¼ˆ</p><p>ä½†ä½¿ç”¨ssh keyå¯¹commitè¿›è¡Œç­¾åæ—¶ï¼Œå¿…é¡»ä½¿ç”¨<code>ssh-agent</code>ï¼ˆå¦åˆ™ä¼šç›´æ¥Errorï¼Œè¿™æ ·å°±åªèƒ½åœ¨Git Bashé‡Œæ“ä½œ</p><p>æœ‰æ²¡æœ‰åŠæ³•è®© git ä½¿ç”¨ Windows è‡ªå¸¦çš„ OpenSSH å‘¢ï¼Ÿ</p><p>ç»è¿‡ä¸€ç•ªæŸ¥æ‰¾ï¼Œå‘ç°åœ¨å®‰è£…æ˜¯æ˜¯å¯ä»¥é…ç½®çš„</p><blockquote><ol><li>Reinstall git with â€œUse external OpenSSHâ€ (untick â€œOnly show new optionsâ€ during the installation start)</li><li>Update Windowâ€™s OpenSSH to 8.6; (repo, tutorial); without it it showed Unsupported certificate option â€œverify-time&#x3D;20220125190555â€ when browsing commits with git show â€“show-signature<br><a href="https://superuser.com/questions/1695601/use-ssh-key-signing-with-git-and-ssh-agent-under-windows">Use SSH key signing with Git and ssh-agent under Windows</a></li></ol></blockquote><div class="note note-info">            <p>è¿™é‡Œé…ç½®ç¯å¢ƒå˜é‡<code>GIT_SSH</code>æˆ–gitçš„å…¨å±€é…ç½®<code>core.sshcommand</code>æ˜¯æ²¡æœ‰ç”¨çš„</p>          </div><h3 id="é‚£ä¹ˆ-Portable-Version-è¯¥æ€ä¹ˆåŠå‘¢ï¼ˆ"><a href="#é‚£ä¹ˆ-Portable-Version-è¯¥æ€ä¹ˆåŠå‘¢ï¼ˆ" class="headerlink" title="é‚£ä¹ˆ Portable Version è¯¥æ€ä¹ˆåŠå‘¢ï¼ˆ"></a>é‚£ä¹ˆ Portable Version è¯¥æ€ä¹ˆåŠå‘¢ï¼ˆ</h3><p><del>ç»è¿‡æ¯”å¯¹ä¸¤ä¸ªç‰ˆæœ¬çš„æ–‡ä»¶ï¼Œæˆ‘æ€€ç–‘è¿™ä¸ªæ²¡æ³•é…ç½®ğŸ˜‡</del></p><blockquote><p>Post-installation, or if using the portable version, to make Git For Windows utilise an external OpenSSH client, remove the bundled OpenSSH binaries. They are typically located in &#x2F;usr&#x2F;bin&#x2F;, relative to the installation directory or root folder of the portable version. The bundled OpenSSH implementation is represented by the binaries listed below. On Windows they will have the .exe extension. <sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="">[1]</span></a></sup></p></blockquote><h2 id="Git-å‘½ä»¤"><a href="#Git-å‘½ä»¤" class="headerlink" title="Git å‘½ä»¤"></a>Git å‘½ä»¤</h2><h3 id="æŸ¥çœ‹é…ç½®åŠé…ç½®æ–‡ä»¶è·¯å¾„"><a href="#æŸ¥çœ‹é…ç½®åŠé…ç½®æ–‡ä»¶è·¯å¾„" class="headerlink" title="æŸ¥çœ‹é…ç½®åŠé…ç½®æ–‡ä»¶è·¯å¾„"></a>æŸ¥çœ‹é…ç½®åŠé…ç½®æ–‡ä»¶è·¯å¾„</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git config --list --show-origin --show-scope<br></code></pre></td></tr></table></figure><h2 id="ä¸€äº›-Git-é…ç½®"><a href="#ä¸€äº›-Git-é…ç½®" class="headerlink" title="ä¸€äº› Git é…ç½®"></a>ä¸€äº› Git é…ç½®</h2><p><a href="https://town.korandoru.io/individuals/git-bootcamp">Git åŸºæœ¬é…ç½®ä¸å¸¸ç”¨æŠ€å·§</a></p><h3 id="é»˜è®¤å¯¹-commit-è¿›è¡Œç­¾å"><a href="#é»˜è®¤å¯¹-commit-è¿›è¡Œç­¾å" class="headerlink" title="é»˜è®¤å¯¹ commit è¿›è¡Œç­¾å"></a>é»˜è®¤å¯¹ commit è¿›è¡Œç­¾å</h3><blockquote><p>To configure your Git client to sign commits by default for a local repository, in Git versions 2.0.0 and above, run git config commit.gpgsign true. To sign all commits by default in any local repository on your computer, run git config â€“global commit.gpgsign true.</p></blockquote><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://github.com/git-for-windows/git/wiki/Using-an-external-OpenSSH-client">https://github.com/git-for-windows/git/wiki/Using-an-external-OpenSSH-client</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>å·¥å…·</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¤§æ‚çƒ©</title>
    <link href="/2022/06/04/%E5%A4%A7%E6%9D%82%E7%83%A9/"/>
    <url>/2022/06/04/%E5%A4%A7%E6%9D%82%E7%83%A9/</url>
    
    <content type="html"><![CDATA[<p>è®°å½•å‘ç°çš„ä¸€äº›å·¨ä½¬çš„åšå®¢å’Œä¸€äº›ä¹±ä¸ƒå…«ç³Ÿçš„ä¸œè¥¿ï¼ˆ</p><h1 id="æ•™ç¨‹ä¸å­¦ä¹ èµ„æ–™"><a href="#æ•™ç¨‹ä¸å­¦ä¹ èµ„æ–™" class="headerlink" title="æ•™ç¨‹ä¸å­¦ä¹ èµ„æ–™"></a>æ•™ç¨‹ä¸å­¦ä¹ èµ„æ–™</h1><p><a href="https://github.com/uber-go/guide">uber-go&#x2F;guide</a> : Go style guide</p><h2 id="Game-Dev"><a href="#Game-Dev" class="headerlink" title="Game-Dev"></a>Game-Dev</h2><p><a href="https://yiviv.com/bevy-cheatbook/">Bevy æ¸¸æˆå¼•æ“å¼€å‘æŒ‡å—</a><br><a href="https://itch.io/">itch.io</a></p><h2 id="Vim"><a href="#Vim" class="headerlink" title="Vim"></a>Vim</h2><p><a href="https://github.com/skywind3000/awesome-cheatsheets/blob/master/editors/vim.txt">awesome-cheatsheets&#x2F;editors&#x2F;vim.txt</a> : Vim å¸¸ç”¨å¿«æ·é”®</p><h2 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h2><p><a href="https://javascript.info/">The Modern JavaScript Tutorial</a> : JS æ•™ç¨‹</p><h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Reference">CSSå‚è€ƒ</a> : CSS å‚è€ƒ</p><h2 id="Haskell"><a href="#Haskell" class="headerlink" title="Haskell"></a>Haskell</h2><p><a href="https://zhuanlan.zhihu.com/p/455688955">å¦‚ä½•å®‰è£… Haskell å·¥å…·é“¾ï¼ˆ2022 å¹´ç‰ˆï¼‰</a> : Haskell å®‰è£…æ•™ç¨‹ï¼ˆghcupï¼‰</p><h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><p><a href="http://www.linux-commands-examples.com/">linux commands examples</a> : Linux å‘½ä»¤è¡Œç¤ºä¾‹<br><a href="https://archlinuxstudio.github.io/ArchLinuxTutorial/">Arch Linux å®‰è£…ä½¿ç”¨æ•™ç¨‹</a> : Arch å®‰è£…æ•™ç¨‹</p><h2 id="CMAKE"><a href="#CMAKE" class="headerlink" title="CMAKE"></a>CMAKE</h2><p><a href="https://blog.xizhibei.me/tags/CMake/">CMake é¡»è‡¾ä¹‹å­¦</a> : CMake åŸºç¡€æ•™ç¨‹<br><a href="https://github.com/ttroy50/cmake-examples">CMake-Examples</a> : CMake åŸºç¡€æ•™ç¨‹<br><a href="https://zhuanlan.zhihu.com/p/116953293">CMake ç®¡ç†é¡¹ç›®çš„releaseå’Œdebug</a> : CMake çš„ <code>Release</code> <code>Debug</code> åœ¨ <code>single configuration</code> å’Œ <code>multi configuration</code> ä¸­ä¸åŒï¼</p><h1 id="çŸ¥è¯†ç¤¾åŒº"><a href="#çŸ¥è¯†ç¤¾åŒº" class="headerlink" title="çŸ¥è¯†ç¤¾åŒº"></a>çŸ¥è¯†ç¤¾åŒº</h1><p><a href="https://learnku.com/">LearnKu</a> : å„ç§æ•™ç¨‹å’Œæ–‡ç« <br><a href="https://tinylab.org/">æ³°æ™“ç§‘æŠ€</a> : å…³äº Linux<br><a href="https://www.geeksforgeeks.org/">GeeksforGeeks</a> : è®¡ç®—æœºçŸ¥è¯†<br><a href="https://hackertalk.net/">é»‘å®¢è¯´ - æŠ€æœ¯é©±åŠ¨ä¼˜è´¨äº¤æµ</a> : çŸ¥è¯†äº¤æµ<br><a href="https://www.shadertoy.com/">Shadertoy</a> : æ„å»ºå’Œåˆ†äº«ä¸–ç•Œä¸Šä½ æœ€å–œæ¬¢çš„ç€è‰²å™¨å¹¶å—å¯å‘</p><h1 id="playground"><a href="#playground" class="headerlink" title="playground"></a>playground</h1><p><a href="https://play.rust-lang.org/">Rust</a><br><a href="https://godbolt.org/">C++</a></p><h1 id="å¥½çœ‹çš„åšå®¢"><a href="#å¥½çœ‹çš„åšå®¢" class="headerlink" title="å¥½çœ‹çš„åšå®¢"></a>å¥½çœ‹çš„åšå®¢</h1><p><a href="https://github.com/BNDong/Cnblogs-Theme-SimpleMemory">Simple Memory</a><br><a href="https://github.com/volantis-x/hexo-theme-volantis">volantis</a><br><a href="https://github.com/dillonzq/LoveIt">LoveIt</a></p><h1 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h1><h2 id="ç¬”è®°æœ¬"><a href="#ç¬”è®°æœ¬" class="headerlink" title="ç¬”è®°æœ¬"></a>ç¬”è®°æœ¬</h2><ul><li><a href="https://logseq.com/">logseq</a></li><li><a href="https://www.notion.so/zh-cn">notion</a></li><li><a href="https://obsidian.md/">obsidian</a></li><li><a href="https://www.zotero.org/">zotero</a></li><li><a href="https://apps.ankiweb.net/">anki</a></li><li><a href="https://joplinapp.org/">joplin</a></li></ul><h2 id="ç¼–è¾‘å™¨"><a href="#ç¼–è¾‘å™¨" class="headerlink" title="ç¼–è¾‘å™¨"></a>ç¼–è¾‘å™¨</h2><ul><li><a href="https://kakoune.org/">Kakoune code editor</a></li><li><a href="https://github.com/helix-editor/helix">Helix</a></li></ul><h2 id="PDFé˜…è¯»å™¨"><a href="#PDFé˜…è¯»å™¨" class="headerlink" title="PDFé˜…è¯»å™¨"></a>PDFé˜…è¯»å™¨</h2><ul><li><a href="https://okular.kde.org/">Okular</a></li><li><a href="https://github.com/sumatrapdfreader/sumatrapdf">SumatraPDF</a></li></ul><h2 id="å›¾åƒå¤„ç†ä¸ç»˜ç”»è½¯ä»¶"><a href="#å›¾åƒå¤„ç†ä¸ç»˜ç”»è½¯ä»¶" class="headerlink" title="å›¾åƒå¤„ç†ä¸ç»˜ç”»è½¯ä»¶"></a>å›¾åƒå¤„ç†ä¸ç»˜ç”»è½¯ä»¶</h2><ul><li><a href="https://www.gimp.org/">Gimp</a></li><li><a href="https://inkscape.org/">Inkscape</a></li><li><a href="https://krita.org/zh/">Krita</a></li><li><a href="https://www.clipstudio.net/">CSP</a>]</li></ul><h2 id="è§†é¢‘å¤„ç†"><a href="#è§†é¢‘å¤„ç†" class="headerlink" title="è§†é¢‘å¤„ç†"></a>è§†é¢‘å¤„ç†</h2><ul><li><a href="https://kdenlive.org/">Kdenlive</a></li><li><a href="https://www.blackmagicdesign.com/cn/products/davinciresolve/">Davinci Resolve</a></li></ul><h2 id="è®¾è®¡å·¥å…·"><a href="#è®¾è®¡å·¥å…·" class="headerlink" title="è®¾è®¡å·¥å…·"></a>è®¾è®¡å·¥å…·</h2><ul><li><a href="https://penpot.app/">penpot</a></li></ul><h2 id="çª—å£ç®¡ç†å™¨"><a href="#çª—å£ç®¡ç†å™¨" class="headerlink" title="çª—å£ç®¡ç†å™¨"></a>çª—å£ç®¡ç†å™¨</h2><p><a href="https://github.com/LGUG2Z/komorebi">komorebi</a> : A tiling window manager for Windows </p>]]></content>
    
    
    <categories>
      
      <category>æ‚é¡¹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å¤§æ‚çƒ©</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>nvim é…ç½®</title>
    <link href="/2022/06/03/nvim-%E9%85%8D%E7%BD%AE/"/>
    <url>/2022/06/03/nvim-%E9%85%8D%E7%BD%AE/</url>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>VS Code çš„ vim æ’ä»¶ä»ç„¶ç›¸å½“éš¾ç”¨ï¼Œæ‰“ç®—æ”¹ç”¨ nvim è¯•è¯•æ°´ï¼ˆ<br>ç„¶è€Œè¿˜æ˜¯ç›¸å½“æŠ˜ç£¨:(</p><h1 id="Rust-è‡ªåŠ¨è¡¥å…¨"><a href="#Rust-è‡ªåŠ¨è¡¥å…¨" class="headerlink" title="Rust è‡ªåŠ¨è¡¥å…¨"></a>Rust è‡ªåŠ¨è¡¥å…¨</h1><p>ç½‘ä¸Šèƒ½æ‰¾åˆ°çš„é…ç½®å¤§å¤šæ•°éƒ½æ²¡æœ‰é…ç½® auto importï¼Œå¯¼è‡´ç½‘ä¸Šéšä¾¿æ‰¾ä¸ªé…ç½®ç”¨çš„æ—¶å€™è‡ªåŠ¨è¡¥å…¨åªèƒ½è¡¥å…¨å·²ç»å¯¼å…¥çš„æ¨¡å—ï¼Œç›¸å½“çš„ç¦»è°±ï¼ˆ<br>æœ€ååœ¨ <code>nvim-comp</code> ä¸­æ‰¾åˆ°äº†é…ç½®æ–¹æ³•ï¼ˆç„¶è€Œå†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™å·²ç»ä¸æ¨èç”¨è¿™ä¸ªäº†<br>åœ¨ <code>lspconfig</code> ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs lua"><span class="hljs-comment">-- https://github.com/hrsh7th/nvim-compe</span><br><span class="hljs-keyword">local</span> capabilities = vim.lsp.protocol.make_client_capabilities()<br>capabilities.textDocument.completion.completionItem.snippetSupport = <span class="hljs-literal">true</span><br>capabilities.textDocument.completion.completionItem.resolveSupport = &#123;<br>  properties = &#123;<br>    <span class="hljs-string">&#x27;documentation&#x27;</span>,<br>    <span class="hljs-string">&#x27;detail&#x27;</span>,<br>    <span class="hljs-string">&#x27;additionalTextEdits&#x27;</span>,<br>  &#125;<br>&#125;<br><br><span class="hljs-built_in">require</span><span class="hljs-string">&#x27;lspconfig&#x27;</span>.rust_analyzer.setup &#123;<br>  capabilities = capabilities,<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>LSP and performance implications</p><p>The feature is enabled only if the LSP client supports LSP protocol version 3.16+ and reports the additionalTextEdits (case-sensitive) resolve client capability in its client capabilities. This way the server is able to defer the costly computations, doing them for a selected completion item only. For clients with no such support, all edits have to be calculated on the completion request, including the fuzzy search completion ones, which might be slow ergo the feature is automatically disabled.</p><p>å‚è€ƒï¼š<a href="https://rust-analyzer.github.io/manual.html#completion-with-autoimport">https://rust-analyzer.github.io/manual.html#completion-with-autoimport</a></p></blockquote><p>ç›´æ¥ä½¿ç”¨ <code>rust-tool.nvim</code> ä¸€åŠ³æ°¸é€¸</p><h1 id="è‡ªåŠ¨è¡¥å…¨"><a href="#è‡ªåŠ¨è¡¥å…¨" class="headerlink" title="è‡ªåŠ¨è¡¥å…¨"></a>è‡ªåŠ¨è¡¥å…¨</h1><p>é»˜è®¤æŒ‰é”® <code>Ctrl-N</code> | <code>Ctrl-P</code> å¯èƒ½ä¼šå’Œæ ‡å‡†çš„è¡¥å…¨å†²çªï¼Œå› æ­¤åœ¨é…ç½® <code>nvim-cmp</code> çš„æ—¶å€™æ³¨æ„æ˜ å°„ï¼ˆ<br>æ¯”å¦‚åœ¨å‘½ä»¤è¡Œè¡¥å…¨çš„æ—¶å€™å‘ç”Ÿçš„å†²çªï¼ˆ</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs lua"><span class="hljs-keyword">local</span> cmp = <span class="hljs-built_in">require</span><span class="hljs-string">&#x27;cmp&#x27;</span><br>cmp.setup(&#123;<br>    snippet = &#123;<br>        <span class="hljs-comment">-- REQUIRED - you must specify a snippet engine</span><br>        expand = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(args)</span></span><br>        <span class="hljs-comment">-- luasnip</span><br>        <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;luasnip&#x27;</span>).lsp_expand(args.body)<br>        <span class="hljs-comment">-- vsnip</span><br>        <span class="hljs-comment">-- vim.fn[&quot;vsnip#anonymous&quot;](args.body)</span><br>        <span class="hljs-comment">-- snippy</span><br>        <span class="hljs-comment">-- require(&#x27;snippy&#x27;).expand_snippet(args.body)</span><br>        <span class="hljs-comment">-- ultisnip</span><br>        <span class="hljs-comment">-- vim.fn[&quot;UltiSnips#Anon&quot;](args.body)</span><br>        <span class="hljs-keyword">end</span>,<br>    &#125;,<br>    mapping = cmp.mapping.preset.<span class="hljs-built_in">insert</span>(&#123;<br>        [<span class="hljs-string">&#x27;&lt;C-b&gt;&#x27;</span>] = cmp.mapping(cmp.mapping.scroll_docs(<span class="hljs-number">-4</span>)),<br>        [<span class="hljs-string">&#x27;&lt;C-f&gt;&#x27;</span>] = cmp.mapping(cmp.mapping.scroll_docs(<span class="hljs-number">4</span>)),<br>        [<span class="hljs-string">&#x27;&lt;C-Space&gt;&#x27;</span>] = cmp.mapping(cmp.mapping.complete()),<br>        [<span class="hljs-string">&#x27;&lt;C-y&gt;&#x27;</span>] = cmp.<span class="hljs-built_in">config</span>.disable,<br>        [<span class="hljs-string">&#x27;&lt;C-e&gt;&#x27;</span>] = cmp.mapping(&#123;<br>            i = cmp.mapping.abort(),<br>            c = cmp.mapping.<span class="hljs-built_in">close</span>(),<br>        &#125;),<br>        <span class="hljs-comment">-- &lt;C-n&gt; &lt;C-p&gt; &lt;Tab&gt; å¯èƒ½ä¼šä½¿ç”¨æ ‡å‡†çš„è¡¥å…¨</span><br>        [<span class="hljs-string">&#x27;&lt;C-n&gt;&#x27;</span>] = cmp.mapping(cmp.mapping.select_next_item(), &#123;<span class="hljs-string">&#x27;i&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>&#125;),<br>        [<span class="hljs-string">&#x27;&lt;C-p&gt;&#x27;</span>] = cmp.mapping(cmp.mapping.select_prev_item(), &#123;<span class="hljs-string">&#x27;i&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>&#125;),<br>        <br>        <span class="hljs-comment">-- Accept currently selected item...</span><br>        <span class="hljs-comment">-- Set `select` to `false` to only confirm explicitly selected items:</span><br>        [<span class="hljs-string">&#x27;&lt;CR&gt;&#x27;</span>] = cmp.mapping.confirm(&#123;<br>            behavior = cmp.ConfirmBehavior.Replace,<br>            <span class="hljs-built_in">select</span> = <span class="hljs-literal">true</span>, <br>        &#125;),<br>    &#125;),<br>    sources = cmp.<span class="hljs-built_in">config</span>.sources(&#123;<br>        &#123; name = <span class="hljs-string">&#x27;nvim_lsp&#x27;</span> &#125;,<br>        <span class="hljs-comment">-- &#123; name = &#x27;luasnip&#x27; &#125;, -- For luasnip users.</span><br>        <span class="hljs-comment">-- &#123; name = &#x27;ultisnips&#x27; &#125;, -- For ultisnips users.</span><br>        <span class="hljs-comment">-- &#123; name = &#x27;snippy&#x27; &#125;, -- For snippy users.</span><br>    &#125;, &#123;&#123; name = <span class="hljs-string">&#x27;buffer&#x27;</span> &#125;&#125;)<br>&#125;)<br></code></pre></td></tr></table></figure><h1 id="è¯Šæ–­ä¿¡æ¯æ²¡æœ‰é…è‰²"><a href="#è¯Šæ–­ä¿¡æ¯æ²¡æœ‰é…è‰²" class="headerlink" title="è¯Šæ–­ä¿¡æ¯æ²¡æœ‰é…è‰²"></a>è¯Šæ–­ä¿¡æ¯æ²¡æœ‰é…è‰²</h1><p>æ³¨æ„ä½¿ç”¨çš„ä¸»é¢˜</p><h1 id="è‡ªåŠ¨æ˜¾ç¤ºè¯Šæ–­ä¿¡æ¯"><a href="#è‡ªåŠ¨æ˜¾ç¤ºè¯Šæ–­ä¿¡æ¯" class="headerlink" title="è‡ªåŠ¨æ˜¾ç¤ºè¯Šæ–­ä¿¡æ¯"></a>è‡ªåŠ¨æ˜¾ç¤ºè¯Šæ–­ä¿¡æ¯</h1><p>åœ¨ <a href="https://sharksforarms.dev/posts/neovim-rust/">Neovim and Rust</a> çš„è¿™ç¯‡æ•™ç¨‹ä¸­ï¼Œé€šè¿‡</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-comment">&quot; Set updatetime for CursorHold</span><br><span class="hljs-comment">&quot; 300ms of no cursor movement to trigger CursorHold</span><br><span class="hljs-keyword">set</span> updatetime=<span class="hljs-number">300</span><br><span class="hljs-comment">&quot; Show diagnostic popup on cursor hold</span><br><span class="hljs-keyword">autocmd</span> CursorHold * <span class="hljs-keyword">lua</span> <span class="hljs-keyword">vim</span>.diagnostic.open_float(nil, &#123; focusable = false &#125;)<br></code></pre></td></tr></table></figure><p>æ¥è®¾ç½®å…‰æ ‡åœç•™æ—¶è‡ªåŠ¨æ˜¾ç¤º Warningã€Errorã€Hintç­‰ä¿¡æ¯ã€‚</p><p>ä½†æ˜¯åœ¨å®é™…ä½¿ç”¨ä¸­æ—¶ï¼Œè¯¥æ–¹æ³•ä¼šè¦†ç›–å…¶ä»–çª—å£çš„ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ <code>vim.lsp.buf.hover()</code> æˆ– <code>vim.lsp.buf.signature_help()</code> æ¥æ˜¾ç¤ºå‡½æ•°ä¿¡æ¯æ—¶ï¼Œè¯Šæ–­ä¿¡æ¯ä¼šè¦†ç›–æ¥è‡ª lsp æ˜¾ç¤ºçš„ä¿¡æ¯ã€‚</p><p>ç›®å‰æ²¡æœ‰æ‰¾åˆ°è§£å†³æ–¹æ¡ˆï¼Œä¸´æ—¶è§£å†³æ–¹æ³•ä¸ºé€šè¿‡å¿«æ·é”®è°ƒå‡ºä¿¡æ¯ï¼Œè€Œä¸é€‚ç”¨ <code>autocmd</code>ã€‚ä½†åœ¨ <code>Insert Mode</code> é™åˆ¶å‡½æ•°çš„ç­¾åã€‚</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-comment">&quot; Show diagnostic popup on cursor hold</span><br><span class="hljs-comment">&quot; autocmd CursorHold * lua vim.diagnostic.open_float(nil, &#123; focusable = false &#125;)</span><br><span class="hljs-keyword">autocmd</span> CursorHoldI * <span class="hljs-keyword">lua</span> <span class="hljs-keyword">vim</span>.lsp.buf.signature_help()<br></code></pre></td></tr></table></figure><h2 id="Update"><a href="#Update" class="headerlink" title="Update"></a>Update</h2><p>æ¥è‡ª 2022&#x2F;10&#x2F;26 çš„æ›´æ–°</p><p>ç›®å‰é‡æ–°forkåˆ«äººçš„é…ç½®ä¿®æ”¹ä½¿ç”¨ï¼Œå¤§é—®é¢˜åŸºæœ¬æ²¡æœ‰äº†ï¼ˆ</p><blockquote><p>å‚è€ƒ<br><a href="https://www.reddit.com/r/neovim/comments/tvy18v/check_if_floating_window_exists/">Check if floating window exists?</a><br><a href="https://www.reddit.com/r/neovim/comments/s3ykd2/diagnostic_on_hover_workaround_available/">Diagnostic on hover workaround available?</a><br><a href="https://github.com/neovim/nvim-lspconfig/wiki/UI-Customization#customizing-how-diagnostics-are-displayed">Customizing how diagnostics are displayed</a></p></blockquote>]]></content>
    
    
    <categories>
      
      <category>å·¥å…·</category>
      
    </categories>
    
    
    <tags>
      
      <tag>editor</tag>
      
      <tag>neovim</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Quarkus+Gradle+Kotlinæ­å»º</title>
    <link href="/2022/04/10/Quarkus-Gradle-Kotlin%E6%90%AD%E5%BB%BA/"/>
    <url>/2022/04/10/Quarkus-Gradle-Kotlin%E6%90%AD%E5%BB%BA/</url>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æ­£å¥½å­¦äº† Kotlin æƒ³æ–°å­¦ä¸€é—¨åç«¯æ¡†æ¶æ¥ç»ƒæ‰‹ï¼Œæœ€ååœ¨ Vertx&#x2F;Ktor&#x2F;Quarakus é‡Œé¢é€‰äº† Quarkusã€‚<br>å…¶å®æ„Ÿè§‰é€‰ SpringBoot æ›´å¥½ï¼Œä½† SpringBoot 3 å¿«å‡ºäº†å¹¶ä¸” Spring çš„æ–‡æ¡£å†™çš„å¥½çƒ‚ï¼Œä»¥åå†å­¦ï¼ˆx</p><p>è¿™é‡Œä¸»è¦è®°å½•ä¸‹ Gradle çš„é…ç½®ä»¥åŠé‡åˆ°çš„å‘Xï¹X</p><h1 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h1><p>å¯ä»¥ç›´æ¥ä½¿ç”¨ <code>quarkus-cli</code> ç”Ÿæˆäº†ï¼Œæ–¹ä¾¿ç‚¹ï¼ˆ</p><figure class="highlight pwsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs pwsh">scoop install quarkus<span class="hljs-literal">-cli</span><br><br>quarkus create app org.acme:rest<span class="hljs-literal">-kotlin-quickstart</span> <span class="hljs-literal">--extension</span>=<span class="hljs-string">&#x27;kotlin,resteasy-reactive-jackson&#x27;</span> <span class="hljs-literal">--gradle-kotlin-dsl</span><br><br><span class="hljs-built_in">cd</span> rest<span class="hljs-literal">-kotlin-quickstart</span><br></code></pre></td></tr></table></figure><h2 id="settings-gradle-kts"><a href="#settings-gradle-kts" class="headerlink" title="settings.gradle.kts"></a>settings.gradle.kts</h2><figure class="highlight kts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs kts">pluginManagement &#123;<br>    <span class="hljs-keyword">val</span> quarkusPluginVersion: String <span class="hljs-keyword">by</span> settings<br>    <span class="hljs-keyword">val</span> quarkusPluginId: String <span class="hljs-keyword">by</span> settings<br>    repositories &#123;<br>        mavenLocal()<br>        mavenCentral()<br>        gradlePluginPortal()<br>    &#125;<br>    plugins &#123;<br>        id(quarkusPluginId) version quarkusPluginVersion<br>    &#125;<br>&#125;<br>rootProject.name=<span class="hljs-string">&quot;quarkus-learn&quot;</span><br></code></pre></td></tr></table></figure><h2 id="build-gradle-kts"><a href="#build-gradle-kts" class="headerlink" title="build.gradle.kts"></a>build.gradle.kts</h2><figure class="highlight kts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs kts">plugins &#123;<br>    kotlin(<span class="hljs-string">&quot;jvm&quot;</span>) version <span class="hljs-string">&quot;<span class="hljs-subst">$&#123;kotlin_version&#125;</span>&quot;</span><br>    kotlin(<span class="hljs-string">&quot;plugin.allopen&quot;</span>) version <span class="hljs-string">&quot;<span class="hljs-subst">$&#123;kotlin_version&#125;</span>&quot;</span><br>    id(<span class="hljs-string">&quot;io.quarkus&quot;</span>)<br>&#125;<br><br>repositories &#123;<br>    mavenCentral()<br>    mavenLocal()<br>&#125;<br><br><span class="hljs-keyword">val</span> quarkusPlatformGroupId: String <span class="hljs-keyword">by</span> project<br><span class="hljs-keyword">val</span> quarkusPlatformArtifactId: String <span class="hljs-keyword">by</span> project<br><span class="hljs-keyword">val</span> quarkusPlatformVersion: String <span class="hljs-keyword">by</span> project<br><br>dependencies &#123;<br>    implementation(enforcedPlatform(<span class="hljs-string">&quot;<span class="hljs-subst">$&#123;quarkusPlatformGroupId&#125;</span>:<span class="hljs-subst">$&#123;quarkusPlatformArtifactId&#125;</span>:<span class="hljs-subst">$&#123;quarkusPlatformVersion&#125;</span>&quot;</span>))<br>    implementation(<span class="hljs-string">&quot;io.quarkus:quarkus-kotlin&quot;</span>)<br>    implementation(<span class="hljs-string">&quot;io.quarkus:quarkus-resteasy-reactive-jackson&quot;</span>)<br>    implementation(<span class="hljs-string">&quot;io.quarkus:quarkus-arc&quot;</span>)<br>    implementation(<span class="hljs-string">&quot;io.quarkus:quarkus-resteasy-reactive&quot;</span>)<br>    testImplementation(<span class="hljs-string">&quot;io.quarkus:quarkus-junit5&quot;</span>)<br>    testImplementation(<span class="hljs-string">&quot;io.rest-assured:rest-assured&quot;</span>)<br>&#125;<br><br>group = <span class="hljs-string">&quot;org.example&quot;</span><br>version = <span class="hljs-string">&quot;1.0.0-SNAPSHOT&quot;</span><br><br>allOpen &#123;<br>    <span class="hljs-keyword">annotation</span>(<span class="hljs-string">&quot;javax.ws.rs.Path&quot;</span>)<br>    <span class="hljs-keyword">annotation</span>(<span class="hljs-string">&quot;javax.enterprise.context.ApplicationScoped&quot;</span>)<br>    <span class="hljs-keyword">annotation</span>(<span class="hljs-string">&quot;io.quarkus.test.junit.QuarkusTest&quot;</span>)<br>&#125;<br><br>tasks.withType&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompile&gt; &#123;<br>    kotlinOptions.jvmTarget = JavaVersion.VERSION_17.toString()<br>    kotlinOptions.javaParameters = <span class="hljs-literal">true</span><br>&#125;<br></code></pre></td></tr></table></figure><h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><h2 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">gradle --console=plain quarkusDev<br></code></pre></td></tr></table></figure><h2 id="ç”Ÿæˆé¡¹ç›®"><a href="#ç”Ÿæˆé¡¹ç›®" class="headerlink" title="ç”Ÿæˆé¡¹ç›®"></a>ç”Ÿæˆé¡¹ç›®</h2><p><a href="https://code.quarkus.io/">QUARKUS - CONFIGURE YOUR APPLICATION</a></p><h1 id="é€”ä¸­é‡åˆ°çš„å‘"><a href="#é€”ä¸­é‡åˆ°çš„å‘" class="headerlink" title="é€”ä¸­é‡åˆ°çš„å‘"></a>é€”ä¸­é‡åˆ°çš„å‘</h1><h2 id="Kotlin-å’Œ-Java-æ··ç¼–æ—¶æ³¨æ„ç±»åï¼"><a href="#Kotlin-å’Œ-Java-æ··ç¼–æ—¶æ³¨æ„ç±»åï¼" class="headerlink" title="Kotlin å’Œ Java æ··ç¼–æ—¶æ³¨æ„ç±»åï¼"></a>Kotlin å’Œ Java æ··ç¼–æ—¶æ³¨æ„ç±»åï¼</h2><p>è¡€ä¸æ³ªçš„æ•™è®­ï¼ï¼ç¼–è¯‘å’Œè¿è¡Œæ—¶éƒ½ä¸ä¼šæŠ¥é”™å’Œè­¦å‘Šï¼Œä½†å°±æ˜¯æ‰¾ä¸åˆ° URLã€‚</p><blockquote><p><a href="https://stackoverflow.com/questions/44879430/why-does-kotlin-allow-having-two-classes-with-same-name-and-package-in-different">why-does-kotlin-allow-having-two-classes-with-same-name-and-package-in-different</a></p></blockquote><h2 id="ä»“åº“åˆå§‹åŒ–"><a href="#ä»“åº“åˆå§‹åŒ–" class="headerlink" title="ä»“åº“åˆå§‹åŒ–"></a>ä»“åº“åˆå§‹åŒ–</h2><p>ä½¿ç”¨ maven åˆå§‹åŒ–ï¼Œæ³¨æ„è¿™é‡Œåœ¨ Windows ä¸Šï¼ˆä¸ç®¡æ˜¯ powershell è¿˜æ˜¯ cmdï¼‰ï¼Œå‚æ•°éƒ½éœ€è¦ç”¨å¼•å·æ‹¬èµ·æ¥ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">mvn io.quarkus.platform:quarkus-maven-plugin:2.7.5.Final:create <span class="hljs-string">&quot;-DprojectGroupId=org.acme&quot;</span> <span class="hljs-string">&quot;-DprojectArtifactId=getting-started&quot;</span> <span class="hljs-string">&#x27;-Dextensions=&quot;resteasy&quot;&#x27;</span> <span class="hljs-string">&quot;-DbuildTool=gradle-kotlin-dsl&quot;</span><br></code></pre></td></tr></table></figure><blockquote><p>For Windows users<br>If using cmd , (donâ€™t use backward slash \ and put everything on the same line)<br>If using Powershell , wrap -D parameters in double quotes e.g. â€œ-DprojectArtifactId&#x3D;getting-startedâ€</p></blockquote><p>å¹¶ä¸”ï¼Œpwshå½“å‰ä¼šæŠŠ<code>.</code>å½“æˆåˆ†éš”ç¬¦ï¼Œäº§ç”Ÿå¥‡æ€ªçš„ç°è±¡ <a href="https://github.com/PowerShell/PowerShell/issues/15541">Issue#15541</a></p><p>ä½†æµ‹è¯•çš„æ—¶å€™å‘ç°<code>=</code>å’Œ<code>-</code>éƒ½æ²¡æœ‰åˆ†éš”ï¼Œä»¥ä¸Šé—®é¢˜åº”è¯¥ä¸éœ€è¦å†ç”¨æ‹¬å·æ‹¬èµ·æ¥äº†ï¼ˆæ²¡è¯•ï¼Œæˆ–è€…å¦‚æœè¢«åŒ…æˆäº†<code>cmd</code>ä¸çŸ¥é“<code>cmd</code>é‚£é‡Œè¿˜éœ€ä¸éœ€è¦ç‰¹æ®Šå¤„ç†</p><p>å¯ä»¥ä½¿ç”¨ <code>--</code> æˆ– <code>--%</code> <a class="btn" href="https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_parsing?view=powershell-7.2"  target="_blank">About Parsing</a></p><p>æˆ‘åœ¨æµ‹è¯•çš„æ—¶å€™å‘ç° <code>--</code> ä¼šä¼ é€’ç»™ç¨‹åºä½† <code>--%</code>ä¸ä¼šï¼Œè¿·æƒ‘</p><figure class="highlight pwsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs pwsh"><span class="hljs-variable">$</span> pwsh <span class="hljs-literal">--version</span><br>PowerShell <span class="hljs-number">7.2</span>.<span class="hljs-number">7</span><br><span class="hljs-variable">$</span> .\echoargs.exe foo <span class="hljs-literal">--</span> bar <span class="hljs-literal">--</span><br>[<span class="hljs-type">src</span>\<span class="hljs-type">main.rs</span>:<span class="hljs-number">5</span>] args = [<br>    <span class="hljs-string">&quot;D:\\workspace\\echoargs\\target\\debug\\echoargs.exe&quot;</span>,<br>    <span class="hljs-string">&quot;foo&quot;</span>,<br>    <span class="hljs-string">&quot;--&quot;</span>,<br>    <span class="hljs-string">&quot;bar&quot;</span>,<br>    <span class="hljs-string">&quot;--&quot;</span>,<br>]<br><span class="hljs-variable">$</span> .\echoargs.exe foo <span class="hljs-literal">--</span>% bar<br>[<span class="hljs-type">src</span>\<span class="hljs-type">main.rs</span>:<span class="hljs-number">5</span>] args = [<br>    <span class="hljs-string">&quot;D:\\workspace\\echoargs\\target\\debug\\echoargs.exe&quot;</span>,<br>    <span class="hljs-string">&quot;foo&quot;</span>,<br>    <span class="hljs-string">&quot;bar&quot;</span>,<br>]<br></code></pre></td></tr></table></figure><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs rust"><span class="hljs-comment">// echoargs.exe</span><br><span class="hljs-keyword">use</span> std::env;<br><br><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() &#123;<br>    <span class="hljs-keyword">let</span> <span class="hljs-variable">args</span> = env::<span class="hljs-title function_ invoke__">args</span>().collect::&lt;<span class="hljs-type">Vec</span>&lt;_&gt;&gt;();<br>    dbg!(args);<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç¼–ç¨‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>Quarkus</tag>
      
      <tag>åç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Rustä¸­ä¸é“¾æ¥ç›¸å…³é—®é¢˜</title>
    <link href="/2022/04/07/Rust%E4%B8%AD%E4%B8%8E%E9%93%BE%E6%8E%A5%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/"/>
    <url>/2022/04/07/Rust%E4%B8%AD%E4%B8%8E%E9%93%BE%E6%8E%A5%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ä»Šå¤©çªå‘å¥‡æƒ³æƒ³è¯•è¯• Rust çš„äº¤å‰ç¼–è¯‘ï¼Œç„¶åæ‰è¿›å¤§å‘(x</p><h1 id="rust-lld"><a href="#rust-lld" class="headerlink" title="rust-lld"></a>rust-lld</h1><p>Linux ä¸­ç›®å‰ä¸å¯ä»¥ç›´æ¥ä½¿ç”¨ rust-lldï¼ŒåŸå› å¦‚ä¸‹å¯ä»¥çœ‹è¿™é‡Œ<a href="https://github.com/rust-lang/rust/issues/71519">Support feeding rust-lld into gcc (and clang)</a></p><p>å¦‚æœç›´æ¥åœ¨ linker é‡Œå†™ rust-lld ä¼šå¯¼è‡´ Segment Faultï¼Œå¦‚æœç›´æ¥å†™ ld ä¼šå‡ºç° no such file or directoryã€‚ï¼ˆRust ä¸­é»˜è®¤ä½¿ç”¨çš„æ˜¯ ccï¼‰</p><p>ä½¿ç”¨<code>-fuse-ld=lld</code>è¿›è¡Œé…ç½®åä»ç„¶æ— æ³•ç›´æ¥ä½¿ç”¨ rust-lldï¼Œ<code>cc</code>åœ¨è¿›è¡Œé“¾æ¥æ—¶ä»ä¼šå‡ºç°<a href="https://users.rust-lang.org/t/cannot-find-ld-when-using-lld/47420">Cannot find â€˜ldâ€™ when using â€˜lldâ€™</a></p><h1 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h1><p><a href="https://github.com/rust-lang/rust/issues/71519">Support feeding rust-lld into gcc (and clang)</a><br><a href="https://users.rust-lang.org/t/cannot-find-ld-when-using-lld/47420">Cannot find â€˜ldâ€™ when using â€˜lldâ€™</a><br><a href="https://github.com/rust-lang/rust/issues/82172">-Clink-arg&#x3D;-fuse-ld&#x3D;lld reports â€˜cannot find ldâ€™</a></p>]]></content>
    
    
    <categories>
      
      <category>ç¼–ç¨‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Rust</tag>
      
      <tag>é“¾æ¥</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java 9-17 ä¸­çš„æ–°ç‰¹æ€§</title>
    <link href="/2022/03/18/java-language-changes-9-17/"/>
    <url>/2022/03/18/java-language-changes-9-17/</url>
    
    <content type="html"><![CDATA[<h1 id="Java-9"><a href="#Java-9" class="headerlink" title="Java 9"></a>Java 9</h1><h2 id="æ¨¡å—åŒ–"><a href="#æ¨¡å—åŒ–" class="headerlink" title="æ¨¡å—åŒ–"></a>æ¨¡å—åŒ–</h2><h2 id="æ”¹è¿›çš„-try-è¯­å¥"><a href="#æ”¹è¿›çš„-try-è¯­å¥" class="headerlink" title="æ”¹è¿›çš„ try è¯­å¥"></a>æ”¹è¿›çš„ try è¯­å¥</h2><p>å¦‚æœå˜é‡ä¸º final æˆ– æœ‰æ•ˆ final(å³å˜é‡åˆå§‹åŒ–åä¸å†å‘ç”Ÿæ”¹å˜), åˆ™å¯åœ¨ try-with-resources ä¸­ä½¿ç”¨è¯¥å˜é‡ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// Java 9+</span><br><br><span class="hljs-comment">// A final resource</span><br><span class="hljs-keyword">final</span> <span class="hljs-type">Resource</span> <span class="hljs-variable">resource1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Resource</span>(<span class="hljs-string">&quot;resource1&quot;</span>);<br><span class="hljs-comment">// An effectively final resource</span><br><span class="hljs-type">Resource</span> <span class="hljs-variable">resource2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Resource</span>(<span class="hljs-string">&quot;resource2&quot;</span>);<br><br><span class="hljs-comment">// New and improved try-with-resources statement in Java SE 9</span><br><span class="hljs-keyword">try</span> (resource1;<br>        resource2) &#123;<br>    ...<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// Java 7 or Java 8</span><br><br><span class="hljs-keyword">try</span> (<span class="hljs-type">Resource</span> <span class="hljs-variable">r1</span> <span class="hljs-operator">=</span> resource1;<br>        <span class="hljs-type">Resource</span> <span class="hljs-variable">r2</span> <span class="hljs-operator">=</span> resource2) &#123;<br>    ...<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æ”¯æŒæ¥å£ç§æœ‰æ–¹æ³•"><a href="#æ”¯æŒæ¥å£ç§æœ‰æ–¹æ³•" class="headerlink" title="æ”¯æŒæ¥å£ç§æœ‰æ–¹æ³•"></a>æ”¯æŒæ¥å£ç§æœ‰æ–¹æ³•</h2><p>Java 9 ä¸­å…è®¸æ¥å£ä½¿ç”¨ç§æœ‰æ–¹æ³•ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">T</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">method</span><span class="hljs-params">()</span> &#123;<br>        ...<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é’»çŸ³æ“ä½œç¬¦åŠåŒ¿åå†…éƒ¨ç±»"><a href="#é’»çŸ³æ“ä½œç¬¦åŠåŒ¿åå†…éƒ¨ç±»" class="headerlink" title="é’»çŸ³æ“ä½œç¬¦åŠåŒ¿åå†…éƒ¨ç±»"></a>é’»çŸ³æ“ä½œç¬¦åŠåŒ¿åå†…éƒ¨ç±»</h2><p>å³æ³›å‹æ“ä½œç¬¦ç°åœ¨å¯ä»¥åœ¨åŒ¿åå†…éƒ¨ç±»ä¸Šä½¿ç”¨ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">Set&lt;String&gt; s = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;()&#123;&#125;;<br></code></pre></td></tr></table></figure><h2 id="ç°åœ¨ä¸æ˜¯ä¸€ä¸ªåˆæ³•çš„æ ‡è¯†ç¬¦"><a href="#ç°åœ¨ä¸æ˜¯ä¸€ä¸ªåˆæ³•çš„æ ‡è¯†ç¬¦" class="headerlink" title="_ ç°åœ¨ä¸æ˜¯ä¸€ä¸ªåˆæ³•çš„æ ‡è¯†ç¬¦"></a>_ ç°åœ¨ä¸æ˜¯ä¸€ä¸ªåˆæ³•çš„æ ‡è¯†ç¬¦</h2><p>Java 9 ä¸­ï¼Œå¦‚æœåœ¨ç¨‹åºä¸­ä½¿ç”¨ _ ä½œä¸ºæ ‡è¯†ç¬¦ï¼Œåˆ™ç¨‹åºä¸èƒ½é€šè¿‡ç¼–è¯‘ã€‚</p><h2 id="SafeVarargs-ç°åœ¨å¯ä»¥åœ¨ç§æœ‰æ–¹æ³•ä¸­ä½¿ç”¨"><a href="#SafeVarargs-ç°åœ¨å¯ä»¥åœ¨ç§æœ‰æ–¹æ³•ä¸­ä½¿ç”¨" class="headerlink" title="@SafeVarargs ç°åœ¨å¯ä»¥åœ¨ç§æœ‰æ–¹æ³•ä¸­ä½¿ç”¨"></a><code>@SafeVarargs</code> ç°åœ¨å¯ä»¥åœ¨ç§æœ‰æ–¹æ³•ä¸­ä½¿ç”¨</h2><p><code>@SafeVarargs</code> å¯ä»¥åœ¨ä¸èƒ½è¢«è¦†å†™çš„æ–¹æ³•ä¸Šä½¿ç”¨ï¼ŒåŒ…æ‹¬ï¼š</p><ul><li>é™æ€æ–¹æ³•</li><li>final</li><li>ç§æœ‰æ–¹æ³•</li></ul><p><a href="https://www.cnblogs.com/springmorning/p/10285780.html">@SafeVarargs</a></p><h2 id="JShell"><a href="#JShell" class="headerlink" title="JShell"></a>JShell</h2><p>Java çš„ REPL å·¥å…·</p><h2 id="æ–°çš„-Http-å®¢æˆ·ç«¯"><a href="#æ–°çš„-Http-å®¢æˆ·ç«¯" class="headerlink" title="æ–°çš„ Http å®¢æˆ·ç«¯"></a>æ–°çš„ Http å®¢æˆ·ç«¯</h2><p>Java 9 ä¸­ä½¿ç”¨ HttpClient</p><h1 id="Java-10-x2F-11"><a href="#Java-10-x2F-11" class="headerlink" title="Java 10&#x2F;11"></a>Java 10&#x2F;11</h1><h2 id="å±€éƒ¨å˜é‡ç±»å‹æ¨æ–­"><a href="#å±€éƒ¨å˜é‡ç±»å‹æ¨æ–­" class="headerlink" title="å±€éƒ¨å˜é‡ç±»å‹æ¨æ–­"></a>å±€éƒ¨å˜é‡ç±»å‹æ¨æ–­</h2><p>Java 10ä¸­å¼•å…¥ï¼Œåœ¨ Java 11 ä¸­å¯åœ¨ lambda è¡¨è¾¾å¼ä¸­ä½¿ç”¨ã€‚<br><a href="https://zhuanlan.zhihu.com/p/34911982">Java 10 æ–°ç‰¹æ€§ä¹‹å±€éƒ¨å˜é‡ç±»å‹æ¨æ–­</a><br><a href="http://openjdk.java.net/projects/amber/guides/lvti-style-guide">Local Variable Type Inference Style Guidelines</a><br><a href="https://openjdk.java.net/jeps/323">Local-Variable Syntax for Lambda Parameters</a></p><h1 id="Java-12"><a href="#Java-12" class="headerlink" title="Java 12"></a>Java 12</h1><h2 id="switch-è¡¨è¾¾å¼"><a href="#switch-è¡¨è¾¾å¼" class="headerlink" title="switch è¡¨è¾¾å¼"></a>switch è¡¨è¾¾å¼</h2><p>è®¡ç®—ä¸€ä¸ªå€¼ï¼Œä¸”å¯ä»¥å°†å…¶ç”¨äº statement ä¸­ã€‚åŒæ—¶å¼•å…¥æ–°çš„ case æ ‡ç­¾æ¥æ¶ˆé™¤ switch ä¸­çš„ break è¯­å¥ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// case label</span><br><span class="hljs-keyword">case</span> label_1, label_2, ..., label_n -&gt; expression;|<span class="hljs-keyword">throw</span>-statement;|block <br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// Java 12 ä¹‹å‰</span><br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">Day</span> &#123; SUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY; &#125;<br><br><span class="hljs-comment">// ...</span><br><br><span class="hljs-type">int</span> <span class="hljs-variable">numLetters</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br><span class="hljs-type">Day</span> <span class="hljs-variable">day</span> <span class="hljs-operator">=</span> Day.WEDNESDAY;<br><span class="hljs-keyword">switch</span> (day) &#123;<br>    <span class="hljs-keyword">case</span> MONDAY:<br>    <span class="hljs-keyword">case</span> FRIDAY:<br>    <span class="hljs-keyword">case</span> SUNDAY:<br>        numLetters = <span class="hljs-number">6</span>;<br>        <span class="hljs-keyword">break</span>;<br>    <span class="hljs-keyword">case</span> TUESDAY:<br>        numLetters = <span class="hljs-number">7</span>;<br>        <span class="hljs-keyword">break</span>;<br>    <span class="hljs-keyword">case</span> THURSDAY:<br>    <span class="hljs-keyword">case</span> SATURDAY:<br>        numLetters = <span class="hljs-number">8</span>;<br>        <span class="hljs-keyword">break</span>;<br>    <span class="hljs-keyword">case</span> WEDNESDAY:<br>        numLetters = <span class="hljs-number">9</span>;<br>        <span class="hljs-keyword">break</span>;<br>    <span class="hljs-keyword">default</span>:<br>        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalStateException</span>(<span class="hljs-string">&quot;Invalid day: &quot;</span> + day);<br>&#125;<br>System.out.println(numLetters);<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// Java 12</span><br><span class="hljs-type">Day</span> <span class="hljs-variable">day</span> <span class="hljs-operator">=</span> Day.WEDNESDAY;    <br>System.out.println(<br>    <span class="hljs-keyword">switch</span> (day) &#123;<br>        <span class="hljs-keyword">case</span> MONDAY, FRIDAY, SUNDAY -&gt; <span class="hljs-number">6</span>;<br>        <span class="hljs-keyword">case</span> TUESDAY                -&gt; <span class="hljs-number">7</span>;<br>        <span class="hljs-keyword">case</span> THURSDAY, SATURDAY     -&gt; <span class="hljs-number">8</span>;<br>        <span class="hljs-keyword">case</span> WEDNESDAY              -&gt; <span class="hljs-number">9</span>;<br>        <span class="hljs-keyword">default</span> -&gt; <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalStateException</span>(<span class="hljs-string">&quot;Invalid day: &quot;</span> + day);<br>    &#125;<br>); <br></code></pre></td></tr></table></figure><h1 id="Java-13"><a href="#Java-13" class="headerlink" title="Java 13"></a>Java 13</h1><h2 id="Text-Block"><a href="#Text-Block" class="headerlink" title="Text Block"></a>Text Block</h2><p>å³å¤šè¡Œæ–‡æœ¬å­—ç¬¦ä¸²</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">query</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    SELECT `EMP_ID`, `LAST_NAME` FROM `EMPLOYEE_TB`</span><br><span class="hljs-string">    WHERE `CITY` = &#x27;INDIANAPOLIS&#x27;</span><br><span class="hljs-string">    ORDER BY `EMP_ID`, `LAST_NAME`;</span><br><span class="hljs-string">&quot;&quot;&quot;</span>;<br></code></pre></td></tr></table></figure><h2 id="switch-è¡¨è¾¾å¼-1"><a href="#switch-è¡¨è¾¾å¼-1" class="headerlink" title="switch è¡¨è¾¾å¼"></a>switch è¡¨è¾¾å¼</h2><p>åœ¨ Java 13ä¸­å¯ä»¥ä½¿ç”¨<code>yield</code>æ¥è·³å‡º switch expression å¹¶è¿”å›ä¸€ä¸ªå€¼ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">switch</span> (x) &#123;<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;1&quot;</span> -&gt; <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;2&quot;</span> -&gt; <span class="hljs-number">2</span>;<br>    <span class="hljs-keyword">default</span> -&gt; &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">len</span> <span class="hljs-operator">=</span> args[<span class="hljs-number">1</span>].length();<br>        <span class="hljs-keyword">yield</span> len;<br>    &#125;<br>&#125;;<br><span class="hljs-comment">// or</span><br><span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">switch</span> (x) &#123;<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;1&quot;</span>: <span class="hljs-keyword">yield</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;2&quot;</span>: <span class="hljs-keyword">yield</span> <span class="hljs-number">2</span>;<br>    <span class="hljs-keyword">default</span>: &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">len</span> <span class="hljs-operator">=</span> args[<span class="hljs-number">1</span>].length();<br>        <span class="hljs-keyword">yield</span> len;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h1 id="Java-14"><a href="#Java-14" class="headerlink" title="Java 14"></a>Java 14</h1><h2 id="Records"><a href="#Records" class="headerlink" title="Records"></a>Records</h2><p>Records æ˜¯ä¸€ç§æ–°çš„ç±»å‹å£°æ˜ã€‚å’Œæšä¸¾ç±»ä¼¼ï¼Œæ˜¯ä¸€ç§ç±»çš„å—é™å½¢å¼ã€‚ä¸»è¦ç”¨äºæ•°æ®çš„è½½ä½“ï¼Œè¡¨æ˜æ•°æ®ä¸å¯å˜ä¸”ä»…åŒ…å«æœ€åŸºæœ¬çš„æ–¹æ³•ä¾‹å¦‚æ„é€ å‡½æ•°å’Œè®¿é—®å™¨ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Rectangle</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Shape</span> &#123;<br>    <span class="hljs-keyword">final</span> <span class="hljs-type">double</span> length;<br>    <span class="hljs-keyword">final</span> <span class="hljs-type">double</span> width;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Rectangle</span><span class="hljs-params">(<span class="hljs-type">double</span> length, <span class="hljs-type">double</span> width)</span> &#123;<br>        <span class="hljs-built_in">this</span>.length = length;<br>        <span class="hljs-built_in">this</span>.width = width;<br>    &#125;<br>    <br>    <span class="hljs-type">double</span> <span class="hljs-title function_">length</span><span class="hljs-params">()</span> &#123; <span class="hljs-keyword">return</span> length; &#125;<br>    <span class="hljs-type">double</span> <span class="hljs-title function_">width</span><span class="hljs-params">()</span> &#123; <span class="hljs-keyword">return</span> width; &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç”±äºè¯¥ç±»ï¼š</p><ul><li>æ–¹æ³•ä»…åŒ…å«æ„é€ å™¨å’Œè®¿é—®å™¨</li><li>æ‰€æœ‰æˆå‘˜å‡ä¸ºfinal<br>å› æ­¤å¯ä»¥å°†å…¶æ›´æ”¹ä¸º Record ç±»å‹ã€‚<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">record</span> <span class="hljs-title class_">Rectangle</span><span class="hljs-params">(<span class="hljs-type">float</span> length, <span class="hljs-type">float</span> width)</span> &#123; &#125;<br></code></pre></td></tr></table></figure></li></ul><p>ä¸€ä¸ª record å°†ä¼šè‡ªåŠ¨æ·»åŠ å¦‚ä¸‹æˆå‘˜:</p><ul><li>ä¸ºæ‰€æœ‰æˆå‘˜æ·»åŠ  private final field</li><li>ä¸ºæ‰€æœ‰æˆå‘˜æ·»åŠ ä¸åç§°å’Œç±»å‹ç›¸åŒçš„å¯è¯»è®¿é—®å™¨ã€‚åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œå³<code>Rectangle::length()</code>å’Œ<code>Rectangle::width</code></li><li>ä¸€ä¸ªå…¬å¼€çš„æ„é€ å‡½æ•°</li><li>å®ç°<code>equals()</code>å’Œ<code>hashCode()</code>æ–¹æ³•ã€‚è¡¨æ˜ä¸¤ä¸ª record ç›¸ç­‰ä»…åœ¨å®ƒä»¬çš„ç±»å‹ç›¸åŒä¸”åŒ…å«çš„æˆå‘˜ç›¸ç­‰æ—¶ã€‚</li><li>å®ç°<code>toString()</code>æ–¹æ³•</li></ul><h3 id="Compact-Constructors"><a href="#Compact-Constructors" class="headerlink" title="Compact Constructors"></a>Compact Constructors</h3><p>å¯ä»¥ä¸º Record è‡ªå®šä¹‰æ„é€ å‡½æ•°ã€‚ä½† Record çš„æ„é€ å‡½æ•°ä¸å­˜åœ¨å‚æ•°åˆ—è¡¨, å…¶è¢«ç§°ä¸º Compact Constructorsã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">record</span> <span class="hljs-title class_">HelloWorld</span><span class="hljs-params">(String message)</span> &#123;<br>    <span class="hljs-keyword">public</span> HelloWorld &#123;<br>        java.util.Objects.requireNonNull(message);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="é™åˆ¶"><a href="#é™åˆ¶" class="headerlink" title="é™åˆ¶"></a>é™åˆ¶</h3><ul><li>Record ä¸èƒ½ç»§æ‰¿å…¶ä»–ä»»ä½•ç±»</li><li>Record ä¸èƒ½å£°æ˜å…¶ä»–å­—æ®µ, é™¤éè¯¥å­—æ®µä¸º static</li><li>Record ä¸èƒ½ä¸ºæŠ½è±¡ç±»ï¼Œå…¶è¢«éšå¼å£°æ˜ä¸º final</li><li>Record ä¸­çš„æˆå‘˜è¢«éšå¼å£°æ˜ä¸º final<br>é™¤æ­¤ä¹‹å¤–, å…¶ä¸æ™®é€šçš„ç±»ç›¸ä¼¼</li></ul><h2 id="instanceof-æ¨¡å¼åŒ¹é…"><a href="#instanceof-æ¨¡å¼åŒ¹é…" class="headerlink" title="instanceof æ¨¡å¼åŒ¹é…"></a>instanceof æ¨¡å¼åŒ¹é…</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Object</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Hello World!&quot;</span>;<br><span class="hljs-keyword">if</span> (s <span class="hljs-keyword">instanceof</span> String str) &#123;<br>    System.out.println(str);<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="Java-15-x2F-16-x2F-17"><a href="#Java-15-x2F-16-x2F-17" class="headerlink" title="Java 15&#x2F;16&#x2F;17"></a>Java 15&#x2F;16&#x2F;17</h1><h2 id="Sealed-Classes"><a href="#Sealed-Classes" class="headerlink" title="Sealed Classes"></a>Sealed Classes</h2><p>å¯†å°ç±»æˆ–æ¥å£é™åˆ¶äº†å¯ä»¥ç»§æ‰¿æˆ–å®ç°å®ƒä»¬çš„ç±»ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Shape</span><br>    <span class="hljs-keyword">permits</span> Circle, Square, Rectangle &#123;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Circle</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Shape</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">float</span> radius;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">non-sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Square</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Shape</span> &#123;<br>   <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> side;<br>&#125;   <br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Rectangle</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Shape</span> <span class="hljs-keyword">permits</span> FilledRectangle &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> length, width;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FilledRectangle</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Rectangle</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> red, green, blue;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="Record-å¢å¼º"><a href="#Record-å¢å¼º" class="headerlink" title="Record å¢å¼º"></a>Record å¢å¼º</h2><h3 id="Local-Record-Classes"><a href="#Local-Record-Classes" class="headerlink" title="Local Record Classes"></a>Local Record Classes</h3><p>åœ¨æ–¹æ³•ä½“ä¸­å®šä¹‰ Recordã€‚<br>ä¸ local class ä¸åŒï¼Œlocal record class éšå¼ä¸º static, å³å®ƒä»¬çš„æ–¹æ³•ä¸èƒ½è®¿é—®å‡½æ•°ä¸­çš„å˜é‡ã€‚</p><h3 id="æ˜¾å¼å£°æ˜-Record-Class-ä¸­çš„æˆå‘˜"><a href="#æ˜¾å¼å£°æ˜-Record-Class-ä¸­çš„æˆå‘˜" class="headerlink" title="æ˜¾å¼å£°æ˜ Record Class ä¸­çš„æˆå‘˜"></a>æ˜¾å¼å£°æ˜ Record Class ä¸­çš„æˆå‘˜</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">record</span> <span class="hljs-title class_">Rectangle</span><span class="hljs-params">(<span class="hljs-type">double</span> length, <span class="hljs-type">double</span> width)</span> &#123;<br> <br>    <span class="hljs-comment">// Public accessor method</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> <span class="hljs-title function_">length</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;Length is &quot;</span> + length);<br>        <span class="hljs-keyword">return</span> length;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>åŒæ—¶ä¹Ÿå¯å£°æ˜ static å­—æ®µã€å‡½æ•°åŠåˆå§‹åŒ–å™¨, å®ä¾‹æ–¹æ³•ä»¥åŠåµŒå¥—ç±»å’Œæ¥å£ã€‚(è‹¥ä¸ºåµŒå¥—çš„record, åˆ™éšå¼å£°æ˜ä¸º static), </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">record</span> <span class="hljs-title class_">Rectangle</span><span class="hljs-params">(<span class="hljs-type">double</span> length, <span class="hljs-type">double</span> width)</span> &#123;<br>    <br>    <span class="hljs-comment">// Static field</span><br>    <span class="hljs-keyword">static</span> <span class="hljs-type">double</span> goldenRatio;<br><br>    <span class="hljs-comment">// Static initializer</span><br>    <span class="hljs-keyword">static</span> &#123;<br>        goldenRatio = (<span class="hljs-number">1</span> + Math.sqrt(<span class="hljs-number">5</span>)) / <span class="hljs-number">2</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// Static method</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Rectangle <span class="hljs-title function_">createGoldenRectangle</span><span class="hljs-params">(<span class="hljs-type">double</span> width)</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Rectangle</span>(width, width * goldenRatio);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">record</span> <span class="hljs-title class_">Rectangle</span><span class="hljs-params">(<span class="hljs-type">double</span> length, <span class="hljs-type">double</span> width)</span> &#123;<br><br>    <span class="hljs-comment">// Nested record class</span><br>    <span class="hljs-keyword">record</span> <span class="hljs-title class_">RotationAngle</span><span class="hljs-params">(<span class="hljs-type">double</span> angle)</span> &#123;<br>        <span class="hljs-keyword">public</span> RotationAngle &#123;<br>            angle = Math.toRadians(angle);<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-comment">// Public instance method</span><br>    <span class="hljs-keyword">public</span> Rectangle <span class="hljs-title function_">getRotatedRectangleBoundingBox</span><span class="hljs-params">(<span class="hljs-type">double</span> angle)</span> &#123;<br>        <span class="hljs-type">RotationAngle</span> <span class="hljs-variable">ra</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RotationAngle</span>(angle);<br>        <span class="hljs-type">double</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> Math.abs(length * Math.cos(ra.angle())) +<br>                   Math.abs(width * Math.sin(ra.angle()));<br>        <span class="hljs-type">double</span> <span class="hljs-variable">y</span> <span class="hljs-operator">=</span> Math.abs(length * Math.sin(ra.angle())) +<br>                   Math.abs(width * Math.cos(ra.angle()));<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Rectangle</span>(x, y);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="The-Canonical-Constructor-of-a-Record-Class"><a href="#The-Canonical-Constructor-of-a-Record-Class" class="headerlink" title="The Canonical Constructor of a Record Class"></a>The Canonical Constructor of a Record Class</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">record</span> <span class="hljs-title class_">Rectangle</span><span class="hljs-params">(<span class="hljs-type">double</span> length, <span class="hljs-type">double</span> width)</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Rectangle</span><span class="hljs-params">(<span class="hljs-type">double</span> length, <span class="hljs-type">double</span> width)</span> &#123;<br>        <span class="hljs-keyword">if</span> (length &lt;= <span class="hljs-number">0</span> || width &lt;= <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">java</span>.lang.IllegalArgumentException(<br>                String.format(<span class="hljs-string">&quot;Invalid dimensions: %f, %f&quot;</span>, length, width));<br>        &#125;<br>        <span class="hljs-built_in">this</span>.length = length;<br>        <span class="hljs-built_in">this</span>.width = width;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="å…¶ä»–ç‰¹æ€§"><a href="#å…¶ä»–ç‰¹æ€§" class="headerlink" title="å…¶ä»–ç‰¹æ€§"></a>å…¶ä»–ç‰¹æ€§</h3><h4 id="æ³›å‹æ”¯æŒ"><a href="#æ³›å‹æ”¯æŒ" class="headerlink" title="æ³›å‹æ”¯æŒ"></a>æ³›å‹æ”¯æŒ</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">record</span> <span class="hljs-title class_">Triangle</span>&lt;C <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Coordinate</span>&gt; (C top, C left, C right) &#123; &#125;<br></code></pre></td></tr></table></figure><h4 id="å®ç°æ¥å£"><a href="#å®ç°æ¥å£" class="headerlink" title="å®ç°æ¥å£"></a>å®ç°æ¥å£</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">record</span> <span class="hljs-title class_">Customer</span><span class="hljs-params">(...)</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Billable</span> &#123; &#125;<br></code></pre></td></tr></table></figure><h4 id="æ³¨è§£"><a href="#æ³¨è§£" class="headerlink" title="æ³¨è§£"></a>æ³¨è§£</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">record</span> <span class="hljs-title class_">Rectangle</span><span class="hljs-params">(</span><br><span class="hljs-params">    @GreaterThanZero <span class="hljs-type">double</span> length,</span><br><span class="hljs-params">    @GreaterThanZero <span class="hljs-type">double</span> width)</span> &#123; &#125;<br></code></pre></td></tr></table></figure><p>å¦‚æœæ³¨è§£è¢«åº”ç”¨äº record ä¸Šçš„æˆå‘˜, åˆ™å…¶ä»–ç›¸å…³æˆå‘˜ä¹Ÿä¼šè‡ªåŠ¨åº”ç”¨ã€‚ä¾‹å¦‚ä¸Šä¾‹ä¸­ <code>@GreaterThanZero</code> ä¸ä»…åº”ç”¨åœ¨ length å’Œ width, è¿˜åŒ…æ‹¬:</p><ul><li>canonical constructor ä¸Šçš„å‚æ•°</li><li>The record classâ€™s components</li><li>ç§æœ‰å­—æ®µ (ä¾‹å¦‚ length å’Œ width)</li><li>è®¿é—®æ–¹æ³•(ä¾‹å¦‚ length å’Œ width)</li></ul><p>å¯ä»¥åœ¨ <code>@Target</code> ä¸­æŒ‡å®šåº”ç”¨çš„ç±»å‹ã€‚ä¾‹å¦‚ä»…åº”ç”¨äºå­—æ®µ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.lang.annotation.*;<br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-meta">@Target(ElementType.FIELD)</span><br><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> GreaterThanZero &#123; &#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç¼–ç¨‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Arch Linux åœ¨ Virtual Box ä¸­çš„å®‰è£…</title>
    <link href="/2022/02/13/arch-install/"/>
    <url>/2022/02/13/arch-install/</url>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ä¹‹å‰ä¸€ç›´ç”¨çš„æ˜¯ Debianï¼Œç¨³ç¡®å®æ˜¯ç¨³ï¼Œä½†å°‘äº†å¾ˆå¤šè½¯ä»¶ï¼Œå¹¶ä¸”æœ‰äº›è½¯ä»¶ç›¸å½“å¤è€äº†ï¼Œå¦‚æœè¦è‡ªå·±è£…æ¡Œé¢è¿˜è¦ç¾åŒ–çš„è¯è¿˜æ˜¯ç›¸å½“æŠ˜è…¾äººçš„ï¼ˆ<br>å¦‚æœåªæ˜¯ä¸ªäººç”¨çš„è¯ï¼ˆç”šè‡³æ”¾åœ¨è™šæ‹Ÿæœºé‡Œï¼‰æ„Ÿè§‰æ²¡å¿…è¦è¿™ä¹ˆç¨³ï¼Œè¿™æ¬¡é‡è£…å°±ç›´æ¥ä¸Š Arch å•¦ï¼ï¼ˆçœŸé¦™<br>ä¹‹å‰ä¹Ÿç”¨è¿‡ Manjaroï¼Œç¡®å®æ¯”è¾ƒæ–¹ä¾¿ï¼Œä½†æ”¾åœ¨è™šæ‹Ÿæœºé‡Œé¢è¿˜æ˜¯ç»å¸¸æ‰åˆ°å‘é‡Œå»ï¼ˆæ¯”å¦‚ VirtualBox Guest Additionsï¼Œç„å­¦ç©æ„ï¼ˆx</p><h1 id="å®‰è£…å‰çš„å‡†å¤‡"><a href="#å®‰è£…å‰çš„å‡†å¤‡" class="headerlink" title="å®‰è£…å‰çš„å‡†å¤‡"></a>å®‰è£…å‰çš„å‡†å¤‡</h1><ul><li><p>ä¸‹è½½ Arch Linux é•œåƒ<br><code>https://mirrors.tuna.tsinghua.edu.cn/archlinux/iso/latest/</code></p></li><li><p>å¯ç”¨ EFI æ”¯æŒ<br>åœ¨ Virtual Box ä¸­ï¼Œåœ¨ <code>è®¾ç½® &gt;&gt; ç³»ç»Ÿ</code> ä¸­é€‰æ‹© <code>å¯ç”¨ EFI</code></p></li></ul><h1 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h1><h2 id="æ£€æŸ¥å¯åŠ¨æ¨¡å¼"><a href="#æ£€æŸ¥å¯åŠ¨æ¨¡å¼" class="headerlink" title="æ£€æŸ¥å¯åŠ¨æ¨¡å¼"></a>æ£€æŸ¥å¯åŠ¨æ¨¡å¼</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">ls</span> /sys/firmware/efi/efivars<br></code></pre></td></tr></table></figure><p>å¦‚æœä¸Šè¿°å‘½ä»¤æœ‰è¾“å‡ºçš„è¯ï¼Œåˆ™ç³»ç»Ÿé‡‡ç”¨ UEFI æ¨¡å¼å¯åŠ¨</p><h2 id="è”ç½‘"><a href="#è”ç½‘" class="headerlink" title="è”ç½‘"></a>è”ç½‘</h2><p>å¦‚æœæ˜¯åœ¨è™šæ‹Ÿæœºä¸­å®‰è£…çš„è¯ï¼Œåº”è¯¥å·²ç»è‡ªåŠ¨è”ç½‘äº†ã€‚ä½¿ç”¨ ping å‘½ä»¤æ¥éªŒè¯ç½‘ç»œçš„è¿é€šæ€§ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ping archlinux.org<br></code></pre></td></tr></table></figure><h2 id="æ ¡å¯¹ç³»ç»Ÿæ—¶é—´"><a href="#æ ¡å¯¹ç³»ç»Ÿæ—¶é—´" class="headerlink" title="æ ¡å¯¹ç³»ç»Ÿæ—¶é—´"></a>æ ¡å¯¹ç³»ç»Ÿæ—¶é—´</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">timedatectl set-ntp <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><h2 id="ç£ç›˜åˆ†åŒº"><a href="#ç£ç›˜åˆ†åŒº" class="headerlink" title="ç£ç›˜åˆ†åŒº"></a>ç£ç›˜åˆ†åŒº</h2><p>ä½¿ç”¨ fdisk æˆ– lsblk æ¥æŸ¥çœ‹ç£ç›˜è®¾å¤‡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">fdisk -l <br>lsblk<br></code></pre></td></tr></table></figure><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œåœ¨ Virtual Box ä¸­ä»…æœ‰ä¸€å—ç£ç›˜ï¼Œå…¶å‘½åä¸º &#x2F;dev&#x2F;sda</p><p>è¿™é‡Œä½¿ç”¨ cgdisk æ¥è¿›è¡Œåˆ†åŒºã€‚</p><table><thead><tr><th>åç§°</th><th>å¤§å°</th><th>æè¿°</th><th>Hex code</th></tr></thead><tbody><tr><td>&#x2F;dev&#x2F;sda1</td><td>300MiB</td><td>EFI åˆ†åŒº</td><td>ef00</td></tr><tr><td>&#x2F;dev&#x2F;sda2</td><td>2GiB</td><td>Swap åˆ†åŒº</td><td>8200</td></tr><tr><td>&#x2F;dev&#x2F;sda3</td><td>-</td><td>æ–‡ä»¶ç³»ç»Ÿ</td><td>8300</td></tr></tbody></table><ul><li>Hex code å¯ä»¥åœ¨ cgdisk ä¸­ä½¿ç”¨ L è¿›è¡Œæœç´¢ï¼›</li><li>åœ¨åˆ†åŒºæ—¶ï¼Œcgdisk ä¼šè‡ªåŠ¨åœ¨ç£ç›˜ä¸­ç•™ä¸‹å¤§çº¦ 1MiB çš„ç©ºé—´ï¼Œå…¶åŸå› ä¸ºï¼š<blockquote><p>It may be intentional. A gap at the end of the disk could be used for a BIOS Boot Partition (which users must sometimes add after partitioning because they didnâ€™t realize they needed it) or to adjust the size of the partition table. Unfortunately for this hypothesis, libparted doesnâ€™t enable use of this space in either of these ways, although gdisk does.</p></blockquote></li></ul><h2 id="æ ¼å¼åŒ–åˆ†åŒº"><a href="#æ ¼å¼åŒ–åˆ†åŒº" class="headerlink" title="æ ¼å¼åŒ–åˆ†åŒº"></a>æ ¼å¼åŒ–åˆ†åŒº</h2><ul><li><p>EFI åˆ†åŒº</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">mkfs.fat -F 32 /dev/sda1<br></code></pre></td></tr></table></figure></li><li><p>Swap åˆ†åŒº</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">mkswap /dev/sda2<br></code></pre></td></tr></table></figure><p>å¯ç”¨ Swapï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">swapon /dev/sda2<br></code></pre></td></tr></table></figure></li><li><p>æ–‡ä»¶ç³»ç»Ÿ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">mkfs.ext4 /dev/sda3<br></code></pre></td></tr></table></figure></li></ul><h2 id="æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿ"><a href="#æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿ"></a>æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿ</h2><p>å°†æ ¹ç›®å½•æŒ‚è½½åˆ° <code>/mnt</code>ï¼Œç„¶åå°† EFI åˆ†åŒºæŒ‚è½½åˆ° <code>/mnt/boot</code>ï¼Œå¯ç”¨ Swap åˆ†åŒº</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">mount /dev/sda3 /mnt<br>mount /dev/sda1 /mnt/boot<br>swapon /dev/sda2<br></code></pre></td></tr></table></figure><h1 id="å®‰è£…ç³»ç»Ÿ"><a href="#å®‰è£…ç³»ç»Ÿ" class="headerlink" title="å®‰è£…ç³»ç»Ÿ"></a>å®‰è£…ç³»ç»Ÿ</h1><h2 id="æ›´æ¢é•œåƒæº"><a href="#æ›´æ¢é•œåƒæº" class="headerlink" title="æ›´æ¢é•œåƒæº"></a>æ›´æ¢é•œåƒæº</h2><p>ä¿®æ”¹ <code>/etc/pacman.d/mirrorlist</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/<span class="hljs-variable">$repo</span>/os/<span class="hljs-variable">$arch</span> <span class="hljs-comment"># æ¸…åæº</span><br>Server = http://mirrors.aliyun.com/archlinux/<span class="hljs-variable">$repo</span>/os/<span class="hljs-variable">$arch</span> <span class="hljs-comment"># é˜¿é‡Œäº‘</span><br></code></pre></td></tr></table></figure><p>æˆ–è€…è·å–é•œåƒåˆ—è¡¨åä½¿ç”¨ reflector è¿›è¡Œé•œåƒæ’åº</p><ol><li>è·å–é•œåƒåˆ—è¡¨<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget -O /etc/pacman.d/mirrorlist https://www.archlinux.org/mirrorlist/all/<br><span class="hljs-comment">#æˆ–æ˜¯</span><br>wget -O /etc/pacman.d/mirrorlist https://www.archlinux.org/mirrorlist/?country=CN<br></code></pre></td></tr></table></figure></li><li>ä½¿ç”¨ reflector æ’åº<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">reflector --verbose --latest 15 --<span class="hljs-built_in">sort</span> rate --save /etc/pacman.d/mirrorlist<br></code></pre></td></tr></table></figure></li></ol><p>æ›´æ–°ä¸€ä¸‹ï¼Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pacman -Syy<br></code></pre></td></tr></table></figure><h2 id="å®‰è£…å¿…å¤‡çš„åŒ…"><a href="#å®‰è£…å¿…å¤‡çš„åŒ…" class="headerlink" title="å®‰è£…å¿…å¤‡çš„åŒ…"></a>å®‰è£…å¿…å¤‡çš„åŒ…</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pacstrap /mnt base linux linux-firmware vim<br></code></pre></td></tr></table></figure><h1 id="é…ç½®ç³»ç»Ÿ"><a href="#é…ç½®ç³»ç»Ÿ" class="headerlink" title="é…ç½®ç³»ç»Ÿ"></a>é…ç½®ç³»ç»Ÿ</h1><h2 id="Fstab"><a href="#Fstab" class="headerlink" title="Fstab"></a>Fstab</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">genfstab -U /mnt &gt;&gt; /mnt/etc/fstab<br></code></pre></td></tr></table></figure><h2 id="Chroot"><a href="#Chroot" class="headerlink" title="Chroot"></a>Chroot</h2><p>è¿›å…¥æ–°ç³»ç»Ÿ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">arch-chroot /mnt<br></code></pre></td></tr></table></figure><h2 id="è®¾ç½®æ—¶åŒº"><a href="#è®¾ç½®æ—¶åŒº" class="headerlink" title="è®¾ç½®æ—¶åŒº"></a>è®¾ç½®æ—¶åŒº</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">ln</span> -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ hwclock ç”Ÿæˆ <code>/etc/adjtime</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hwclock --systohc<br></code></pre></td></tr></table></figure><h2 id="æœ¬åœ°åŒ–"><a href="#æœ¬åœ°åŒ–" class="headerlink" title="æœ¬åœ°åŒ–"></a>æœ¬åœ°åŒ–</h2><p>ç¼–è¾‘ <code>/etc/locale.gen</code>ï¼Œå°† <code>en_US.UTF-8 UTF-8</code> å’Œå…¶ä»–éœ€è¦çš„è¯­è¨€ï¼ˆä¾‹å¦‚ <code>zh_CN.UTF-8 UTF-8</code> ï¼‰å–æ¶ˆæ³¨é‡Šã€‚ç„¶åä½¿ç”¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">locale-gen<br></code></pre></td></tr></table></figure><p>åˆ›å»º <code>/etc/locale.conf</code>ï¼Œè®¾ç½®å˜é‡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># /etc/locale.conf</span><br>LANG=en_US.UTF-8<br></code></pre></td></tr></table></figure><h2 id="é…ç½®ç½‘ç»œ"><a href="#é…ç½®ç½‘ç»œ" class="headerlink" title="é…ç½®ç½‘ç»œ"></a>é…ç½®ç½‘ç»œ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> <span class="hljs-built_in">arch</span> &gt; /etc/hostname<br><span class="hljs-built_in">echo</span> 127.0.0.1 &gt;&gt; /etc/hosts<br><span class="hljs-built_in">echo</span> ::1 &gt;&gt; /etc/hosts<br></code></pre></td></tr></table></figure><p>å®‰è£…å…¶ä»–ç½‘ç»œå·¥å…·åŒ…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pacman -S dhcpcd<br></code></pre></td></tr></table></figure><h2 id="é…ç½®-bootloader"><a href="#é…ç½®-bootloader" class="headerlink" title="é…ç½® bootloader"></a>é…ç½® bootloader</h2><p>è¿™é‡Œä½¿ç”¨ systemd-boot å¯åŠ¨ç³»ç»Ÿ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">bootctl install<br>vim /boot/loader/entries/arch.conf<br></code></pre></td></tr></table></figure><p><code>/boot/loader/entries/arch.conf</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">title Arch Linux<br>linux /vmlinuz-linux<br>initrd /intel-ucode.img<br>initrd /initramfs-linux.img<br></code></pre></td></tr></table></figure><p>æ³¨ï¼š</p><ul><li>å¦‚æœå¯åŠ¨å¤±è´¥ï¼Œåˆ™éœ€è¦æ³¨æ„è·¯å¾„æ˜¯å¦åœ¨ EFI åˆ†åŒºä¸­å­˜åœ¨ã€‚ä¾‹å¦‚ï¼Œå¯åŠ¨å¤±è´¥æ—¶ï¼Œå¯æ£€æŸ¥ <code>/vmlinuz-linux</code> æ˜¯å¦åœ¨ <code>/dev/sda1</code>ä¸­å­˜åœ¨</li><li><code>/intel-ucode.img</code> éœ€è¦å®‰è£… <code>intel-ucode</code>åŒ…ï¼ˆå³ <code>pacman -S intel-ucode</code>ï¼‰ï¼Œè‹¥æœªå®‰è£…è¯¥åŒ…ï¼Œåˆ™åº”åˆ å»è¯¥è¡Œã€‚ç†è®ºä¸Šè™šæ‹Ÿæœºä¸éœ€è¦è¯¥åŒ…ã€‚</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;options root=PARTUUID=<span class="hljs-subst">$(blkid -s PARTUUID -o value /dev/sda3)</span> rw&quot;</span> &gt;&gt; /boot/loader/entries/arch.conf<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">systemctl <span class="hljs-built_in">enable</span> fstrim.timer<br></code></pre></td></tr></table></figure><h1 id="è¿›å…¥ç³»ç»Ÿ"><a href="#è¿›å…¥ç³»ç»Ÿ" class="headerlink" title="è¿›å…¥ç³»ç»Ÿ"></a>è¿›å…¥ç³»ç»Ÿ</h1><h2 id="é…ç½®ç³»ç»Ÿ-1"><a href="#é…ç½®ç³»ç»Ÿ-1" class="headerlink" title="é…ç½®ç³»ç»Ÿ"></a>é…ç½®ç³»ç»Ÿ</h2><p>åˆ›å»ºæ–°ç”¨æˆ·</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">useradd -m new_user<br></code></pre></td></tr></table></figure><p>å®‰è£…ä¸­æ–‡å­—ä½“ã€VirtualBox Guest Additions å’Œå…¶ä»–è½¯ä»¶åŒ…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pacman -S noto-fonts-cjk virtualbox-guest-utils sudo git<br></code></pre></td></tr></table></figure><h2 id="å®‰è£…æ¡Œé¢"><a href="#å®‰è£…æ¡Œé¢" class="headerlink" title="å®‰è£…æ¡Œé¢"></a>å®‰è£…æ¡Œé¢</h2><p>æ¡Œé¢é‡‡ç”¨ awesome wmã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pacman -S xorg-server xorg-xinit sddm awesome feh picom alacritty zsh<br></code></pre></td></tr></table></figure><h3 id="awesome-ä¸»é¢˜é…ç½®"><a href="#awesome-ä¸»é¢˜é…ç½®" class="headerlink" title="awesome ä¸»é¢˜é…ç½®"></a>awesome ä¸»é¢˜é…ç½®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://github.com/denstiny/awesome-config<br><span class="hljs-built_in">cd</span> ./awesome-config<br>./install.sh<br></code></pre></td></tr></table></figure><h3 id="é…ç½®ç»ˆç«¯"><a href="#é…ç½®ç»ˆç«¯" class="headerlink" title="é…ç½®ç»ˆç«¯"></a>é…ç½®ç»ˆç«¯</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> git://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh<br><span class="hljs-built_in">cp</span> ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc<br><br>curl --socks5 proxy_server https://raw.githubusercontent.com/daltonmenezes/aura-theme/main/packages/alacritty/aura-theme.yml &gt; ~/.config/alacritty/alacritty.yml<br></code></pre></td></tr></table></figure><h2 id="å®‰è£…ä¸­æ–‡è¾“å…¥æ³•"><a href="#å®‰è£…ä¸­æ–‡è¾“å…¥æ³•" class="headerlink" title="å®‰è£…ä¸­æ–‡è¾“å…¥æ³•"></a>å®‰è£…ä¸­æ–‡è¾“å…¥æ³•</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pacman -S fcitx5-im fcitx5-rime<br></code></pre></td></tr></table></figure><p>ç¼–è¾‘ <code>~/.pam_environment</code></p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs routeros">GTK_IM_MODULE <span class="hljs-attribute">DEFAULT</span>=fcitx<br>QT_IM_MODULE  <span class="hljs-attribute">DEFAULT</span>=fcitx<br>XMODIFIERS    <span class="hljs-attribute">DEFAULT</span>=\@im=fcitx<br>INPUT_METHOD  <span class="hljs-attribute">DEFAULT</span>=fcitx<br>SDL_IM_MODULE <span class="hljs-attribute">DEFAULT</span>=fcitx<br>GLFW_IM_MODULE <span class="hljs-attribute">DEFAULT</span>=ibus<br></code></pre></td></tr></table></figure><h2 id="å£°éŸ³"><a href="#å£°éŸ³" class="headerlink" title="å£°éŸ³"></a>å£°éŸ³</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pacman -S alsa-utils pulseaudio<br></code></pre></td></tr></table></figure><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://wiki.archlinux.org/title/Installation_guide">Installation guide</a><br><a href="https://wiki.archlinux.org/title/Systemd-boot">systemd-boot</a><br><a href="https://wiki.archlinux.org/title/VirtualBox/Install_Arch_Linux_as_a_guest#Install_the_Guest_Additions">VirtualBox&#x2F;Install Arch Linux as a guest</a><br><a href="https://www.cnblogs.com/lepeCoder/p/archlinux_mirrors.html">ä¸ºarchlinuxé€‰æ‹©å›½å†…é•œåƒ</a><br><a href="https://wiki.archlinux.org/title/Fcitx5_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">Fcitx5 (ç®€ä½“ä¸­æ–‡)</a></p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Arch Linux</tag>
      
      <tag>Virtual Box</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä½¿ç”¨ Github Action è‡ªåŠ¨éƒ¨ç½² Hexo</title>
    <link href="/2022/01/11/hello-world/"/>
    <url>/2022/01/11/hello-world/</url>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ä»Šå¤©å¿ƒè¡€æ¥æ½®ç”¨ Github Pages æ•´ä¸ªåšå®¢<br>ï¼ˆä¸»è¦æ˜¯æƒ³æ‰¾ä¸ªåœ°æ–¹å¤‡ä»½ä¸‹ç¬”è®°</p><h1 id="Github-é…ç½®å¯†é’¥"><a href="#Github-é…ç½®å¯†é’¥" class="headerlink" title="Github é…ç½®å¯†é’¥"></a>Github é…ç½®å¯†é’¥</h1><p>é¦–å…ˆç”Ÿæˆå¯†é’¥å¯¹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ssh-keygen -t ed25519 -C <span class="hljs-string">&quot;wortoxs@example.com&quot;</span><br></code></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬å¾—åˆ°äº†<code>deploy_key</code>ä»¥åŠ<code>deploy_key.pub</code></p><h2 id="é…ç½®ç§é’¥"><a href="#é…ç½®ç§é’¥" class="headerlink" title="é…ç½®ç§é’¥"></a>é…ç½®ç§é’¥</h2><p>è¿™é‡Œæˆ‘ä»¬å°†ç§é’¥å­˜æ”¾åœ¨åšå®¢ä»£ç çš„ç›®å½•ä¸­, è¿™é‡Œå°±æ˜¯ blog ä»“åº“<br>å°†<code>depoly_key</code>æ”¾åœ¨ blog ä»“åº“çš„ <code>Settings &gt; Secret</code>ä¸­, å‘½åä¸º<code>HEXO_DEPLOY_KEY</code>, ç”¨äºä¹‹å Github Action æ¨é€è‡³ Github Pages</p><h2 id="é…ç½®å…¬é’¥"><a href="#é…ç½®å…¬é’¥" class="headerlink" title="é…ç½®å…¬é’¥"></a>é…ç½®å…¬é’¥</h2><p>æ‰“å¼€æ”¾ç½® Github Pages æ–‡ä»¶çš„ä»“åº“, åœ¨<code>Settings &gt; Deploy keys</code>ä¸­å­˜æ”¾å…¬é’¥, åŠ<code>Deply_key.pub</code></p><h1 id="é…ç½®-Github-Action"><a href="#é…ç½®-Github-Action" class="headerlink" title="é…ç½® Github Action"></a>é…ç½® Github Action</h1><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">Hexo</span> <span class="hljs-string">Deploy</span><br><br><span class="hljs-attr">on:</span><br>  <span class="hljs-attr">push:</span><br>    <span class="hljs-attr">branches:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">master</span><br><br><span class="hljs-attr">jobs:</span><br>  <span class="hljs-attr">build:</span><br>    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-18.04</span><br>    <span class="hljs-attr">if:</span> <span class="hljs-string">github.event.repository.owner.id</span> <span class="hljs-string">==</span> <span class="hljs-string">github.event.sender.id</span><br><br>    <span class="hljs-attr">steps:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Checkout</span> <span class="hljs-string">source</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v2</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">ref:</span> <span class="hljs-string">master</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Setup</span> <span class="hljs-string">Node.js</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/setup-node@v1</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">node-version:</span> <span class="hljs-string">&#x27;12&#x27;</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Setup</span> <span class="hljs-string">Hexo</span><br>        <span class="hljs-attr">env:</span><br>          <span class="hljs-attr">ACTION_DEPLOY_KEY:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">secrets.HEXO_DEPLOY_KEY</span> <span class="hljs-string">&#125;&#125;</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          mkdir -p ~/.ssh/</span><br><span class="hljs-string">          echo &quot;$ACTION_DEPLOY_KEY&quot; &gt; ~/.ssh/id_rsa</span><br><span class="hljs-string">          chmod 700 ~/.ssh</span><br><span class="hljs-string">          chmod 600 ~/.ssh/id_rsa</span><br><span class="hljs-string">          ssh-keyscan github.com &gt;&gt; ~/.ssh/known_hosts</span><br><span class="hljs-string">          git config --global user.email &quot;john@doe.com&quot;</span><br><span class="hljs-string">          git config --global user.name &quot;John Doe&quot;</span><br><span class="hljs-string">          npm install hexo-cli -g</span><br><span class="hljs-string">          npm install</span><br><span class="hljs-string"></span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          hexo clean</span><br><span class="hljs-string">          hexo deploy</span><br></code></pre></td></tr></table></figure><p>è¿™é‡Œæœ€åä¹Ÿå¯ä»¥ä¹‹é—´ç”Ÿæˆæ–‡ä»¶ä¹‹é—´æ¨é€åˆ°ä»“åº“ä¸­:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">Hexo</span><br><br>    <span class="hljs-attr">env:</span> <br>    <span class="hljs-comment"># Github ä»“åº“</span><br>    <span class="hljs-attr">GITHUB_REPO:</span> <span class="hljs-comment"># Github Repo</span><br><br>    <span class="hljs-comment"># å°†ç¼–è¯‘åçš„åšå®¢æ–‡ä»¶æ¨é€åˆ°æŒ‡å®šä»“åº“</span><br>    <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><br>    <span class="hljs-string">cd</span> <span class="hljs-string">./public</span> <span class="hljs-string">&amp;&amp;</span> <span class="hljs-string">git</span> <span class="hljs-string">init</span> <span class="hljs-string">&amp;&amp;</span> <span class="hljs-string">git</span> <span class="hljs-string">add</span> <span class="hljs-string">.</span><br><br>    <span class="hljs-string">git</span> <span class="hljs-string">config</span> <span class="hljs-string">user.name</span> <span class="hljs-string">&quot;&quot;</span><br><br>    <span class="hljs-string">git</span> <span class="hljs-string">config</span> <span class="hljs-string">user.email</span> <span class="hljs-string">&quot;&quot;</span><br><br>    <span class="hljs-string">git</span> <span class="hljs-string">add</span> <span class="hljs-string">.</span><br><br>    <span class="hljs-string">git</span> <span class="hljs-string">commit</span> <span class="hljs-string">-m</span> <span class="hljs-string">&quot;GitHub Actions Auto Builder at $(date +&#x27;%Y-%m-%d %H:%M:%S&#x27;)&quot;</span><br><br>    <span class="hljs-string">git</span> <span class="hljs-string">push</span> <span class="hljs-string">--force</span> <span class="hljs-string">--quiet</span> <span class="hljs-string">&quot;$GITHUB_REPO&quot;</span> <span class="hljs-string">master:master</span><br></code></pre></td></tr></table></figure><h1 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h1><ul><li><p>å…¶å®ä¹Ÿå¯ä»¥ä¸åˆ†æˆä¸¤ä¸ªä»“åº“, æœ€åæŠŠç”Ÿæˆçš„æ–‡ä»¶æ¨é€åˆ° master åˆ†æ”¯å°±å¥½äº†</p></li><li><p>Depoly Key ä¸Šè®°å¾—é€‰ä¸Š Write Access, å¦åˆ™ä¼šå‡ºç°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ERROR: The key you are authenticating with has been marked as <span class="hljs-built_in">read</span> only.<br></code></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
